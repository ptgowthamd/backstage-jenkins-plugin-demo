{"version":3,"file":"static/370.c8d04cb8.chunk.js","mappings":"qWAwBA,MAAMA,MAAY,KAChB,CACE,YAAa,CACX,SAAU,IACV,SAAU,GACZ,EACA,SAAU,CACR,WAAY,QACd,CACF,EACA,CAAE,KAAM,wBAAyB,CACnC,EACMC,EAAc,CAAC,CAAE,KAAAC,CAAK,IAAM,CAChC,MAAMC,KAAM,KAAO,EACbC,EAAOF,EAAOC,EAAI,cAAcD,CAAI,GAAK,KAAW,KAC1D,OAAuB,gBAA6BE,EAAM,IAAI,CAChE,EACMC,GAAc,CAAC,CAAE,KAAAC,CAAK,IAAsB,gBAA6B,MAAM,CAAE,GAAIA,EAAK,GAAI,EAAGA,EAAK,OAASA,EAAK,GAAG,EACvHC,GAAkB,CAAC,CAAE,KAAAC,CAAK,IACP,gBAA6B,KAAU,CAAE,OAAQ,EAAM,EAAmB,gBAA6B,IAAc,KAAsB,gBAA6BP,EAAa,CAAE,KAAMO,EAAK,IAAK,CAAC,CAAC,EAAmB,gBACjP,KACA,CACE,QAASA,EAAK,MACd,UAAWA,EAAK,OAAO,OACrB,CAACC,EAAMH,EAAMI,KAAQ,CACnB,GAAGD,EACHC,GAAM,GAAqB,gBAA6B,KAAM,CAAE,IAAKA,EAAI,CAAC,EAC1D,gBAA6BL,GAAa,CAAE,KAAAC,EAAM,IAAKA,EAAK,GAAI,CAAC,CACnF,EACA,CAAC,CACH,CACF,CACF,CAAC,EAEH,SAASK,GAAcC,EAAO,CAC5B,KAAM,CAAE,EAAAC,CAAE,KAAI,MAAkB,IAA4B,EACtD,CAAE,MAAAC,EAAO,MAAAC,GAAO,SAAAC,EAAS,EAAIJ,EAC7B,CAAE,MAAOK,CAAY,KAAI,MAAiB,EAC1C,CAACC,EAAaC,CAAc,KAAI,YAAS,EAAK,EAC9C,CAACC,EAAUC,CAAW,KAAI,YAAS,IAAI,EACvCC,EAAUtB,GAAU,EACpBuB,KAAgB,KACnBC,GAAUA,EAAM,YAAY,KAAK,IAAI,CACxC,EACMC,EAAkBC,GAAU,CAChCL,EAAYK,EAAM,aAAa,EAC/BP,EAAe,EAAI,CACrB,EACMQ,EAAsB,IAAM,CAChCR,EAAe,EAAK,CACtB,EACA,OAAuB,gBAA6B,WAAyB,KAAsB,gBAA6B,IAAK,CAAE,QAAS,OAAQ,GAAI,CAAE,EAAGI,EAAgC,gBAC/L,IACA,CACE,MAAO,UACP,KAAM,QACN,QAASE,EACT,cAAe,iBACf,aAAc,SAChB,EACgB,gBAA6B,KAAU,IAAI,CAC7D,EAAoB,gBAClB,IACA,CACE,cAAe,iBACf,aAAc,UACd,MAAO,UACP,QAASA,EACT,UAA2B,gBAA6B,KAAU,IAAI,CACxE,EACAZ,EAAE,qBAAqB,CACzB,CAAC,EAAmB,gBAClB,KACA,CACE,cAAe,yBACf,KAAMK,EACN,SAAAE,EACA,aAAc,CACZ,SAAU,SACV,WAAY,OACd,EACA,gBAAiB,CACf,SAAU,MACV,WAAY,OACd,EACA,QAASO,CACX,EACgB,gBACd,KACA,CACE,UAAWL,EAAQ,YACnB,cAAe,EAAQF,CACzB,EACAN,GAAyB,gBACvB,KACA,CACE,OAAQ,GACR,WAAY,aACZ,UAAWQ,EAAQ,QACrB,EACgB,gBAA6B,KAAY,CAAE,QAAS,WAAY,EAAGR,CAAK,CAC1F,EACA,WAAwB,IAAIE,GAAU,CAACY,EAAOC,IAAsB,gBAClE,KACA,CACE,OAAQ,GACR,WAAY,aACZ,IAAK,SAASA,CAAC,GACf,UAAWP,EAAQ,QACrB,EACAM,CACF,CAAC,GACAb,IAASE,GAAa,IAAI,CAACT,EAAMqB,IAAsB,gBAA6BtB,GAAiB,CAAE,KAAAC,EAAM,IAAK,QAAQqB,CAAC,EAAG,CAAC,CAAC,CACnI,EACgB,gBAA6B,IAAe,KAAsB,gBAChF,IACA,CACE,MAAO,UACP,QAASF,EACT,aAAc,OAChB,EACAd,EAAE,qBAAqB,CACzB,CAAC,CACH,CAAC,CACH,C,sUChJA,MAAMiB,GAAsB,CAC1B,eAAgB,aAChB,gBAAiB,aACnB,EACMC,GAAS,CAAC,iBAAkB,iBAAiB,EAC7CC,GAAc,CAAC,CAAE,MAAAC,EAAO,SAAAC,CAAS,IAAM,CAC3C,MAAMC,KAAe,eAClBC,GAAMF,EAASE,CAAC,EACjB,CAACF,CAAQ,CACX,EACA,OAAuB,gBAAoBG,EAAA,EAAK,CAAE,GAAI,EAAG,GAAI,CAAE,EAAmB,gBAChF,KACA,CACE,MAAO,QACP,SAAUJ,EACV,MAAOF,GAAO,IAAKK,IAAO,CACxB,MAAON,GAAoBM,CAAC,EAC5B,MAAOA,CACT,EAAE,EACF,SAAUD,CACZ,CACF,CAAC,CACH,E,eCnBA,MAAMG,EAA0B,CAC9B,CAAC,IAAU,UAAU,EAAG,gBACxB,CAAC,IAAU,UAAU,EAAG,gBACxB,CAAC,IAAU,UAAU,EAAG,gBACxB,CAAC,IAAU,UAAU,EAAG,eAC1B,EACMC,EAAkB,CAAC,CAAE,MAAAN,EAAO,SAAAC,CAAS,IAAM,CAC/C,MAAMC,KAAe,eAClBC,GAAMF,EAASE,CAAC,EACjB,CAACF,CAAQ,CACX,EACA,OAAuB,gBAAoBG,EAAA,EAAK,CAAE,GAAI,EAAG,GAAI,CAAE,EAAmB,gBAChF,KACA,CACE,MAAO,YACP,SAAUJ,EACV,MAAO,OAAO,OAAO,GAAS,EAAE,IAAKG,IAAO,CAC1C,MAAOE,EAAwBF,CAAC,EAChC,MAAOA,CACT,EAAE,EACF,SAAUD,CACZ,CACF,CAAC,CACH,E,6DCpBA,MAAMnC,KAAYwC,EAAA,GAChB,CACE,YAAa,CACX,MAAO,OACP,SAAU,GACZ,CACF,EACA,CAAE,KAAM,kCAAmC,CAC7C,EACMC,EAAiB,CAAC,CAAE,MAAAR,EAAO,SAAAC,CAAS,IAAM,CAC9C,MAAMZ,EAAUtB,EAAU,EACpB0C,KAAc,UAAOR,CAAQ,EAC7B,CAACS,EAAcC,CAAe,KAAI,YAASX,CAAK,KACtD,aAAU,IAAM,CACdS,EAAY,QAAUR,CACxB,EAAG,CAACA,CAAQ,CAAC,KACb,aAAU,IAAM,CACdU,EAAgBX,CAAK,CACvB,EAAG,CAACA,CAAK,CAAC,EACV,MAAME,KAAe,eAClBT,GAAU,CACT,MAAMmB,EAAkB,OAAOnB,EAAM,OAAO,KAAK,EAC3CoB,EAAW,OAAO,SAASD,CAAe,GAAKA,EAAkB,EAAIA,EAAkB,OAAO,kBACpGD,EAAgBE,CAAQ,EACxBJ,EAAY,QAAQI,CAAQ,CAC9B,EACA,CAAC,CACH,EACMC,KAAQ,eAAY,IAAM,CAC9BH,EAAgB,OAAO,iBAAiB,EACxCF,EAAY,QAAQ,OAAO,iBAAiB,CAC9C,EAAG,CAACA,CAAW,CAAC,EAChB,OAAuB,gBAAoBL,EAAA,EAAK,CAAE,GAAI,EAAG,GAAI,CAAE,EAAmB,gBAAoBW,GAAA,EAAa,CAAE,QAAS,WAAY,UAAW1B,EAAQ,WAAY,EAAmB,gBAAoB2B,EAAA,EAAY,CAAE,QAAS,QAAS,EAAG,WAAW,EAAmB,gBAC/QC,EAAA,EACA,CACE,KAAM,SACN,YAAa,kBACb,MAAO,OAAO,SAASP,CAAY,EAAI,OAAOA,CAAY,EAAI,GAC9D,SAAUR,EACV,aAA8B,gBAAoBgB,EAAA,EAAgB,CAAE,SAAU,KAAM,EAAmB,gBACrGC,GAAA,EACA,CACE,aAAc,kBACd,QAASL,EACT,KAAM,KACR,EACgB,gBAAoBM,EAAA,EAAW,IAAI,CACrD,CAAC,EACD,WAAY,CACV,aAAc,MAChB,EACA,WAAY,CACd,CACF,CAAC,CAAC,CACJ,E,4HCjDA,MAAM,KAAYb,EAAA,GAChB,CACE,YAAa,CACX,SAAU,GACZ,CACF,EACA,CAAE,KAAM,uCAAwC,CAClD,EACMc,EAAsB,CAAC,CAAE,MAAArB,EAAO,SAAAC,CAAS,IAAM,CACnD,MAAMZ,EAAU,EAAU,EACpBiC,KAAW,MAAO,GAAW,EAC7BC,KAAa,MAAO,GAAa,EACjC,CAAE,MAAAC,EAAO,MAAOC,CAAM,KAAIC,EAAA,GAAS,SAChC,MAAMH,EAAW,gBAAgB,CAAE,OAAQ,CAAC,MAAM,CAAE,CAAC,EAAE,KAAMI,GAAaA,EAAS,OAAO,MAAM,IAAKC,GAAMA,EAAE,KAAK,EAAE,KAAK,GAAK,CAAC,CAAC,CACxI,KACD,aAAU,IAAM,CACVJ,GACFF,EAAS,KAAK,CACZ,QAAS,8BACT,SAAU,OACZ,CAAC,CAEL,EAAG,CAACE,EAAOF,CAAQ,CAAC,EACpB,MAAMO,KAAkB,WACtB,IAAMJ,GAAQA,EAAM,IAAKK,GAAMA,EAAE,kBAAkB,OAAO,CAAC,EAC3D,CAACL,CAAK,CACR,EACMvB,KAAe,eACnB,CAAC6B,EAAG5B,IAAM,CACRF,EACE4B,GAAmBA,EAAgB,MAAOG,IAAM7B,EAAE,SAAS6B,EAAC,CAAC,EAAI,OAAS7B,CAC5E,CACF,EACA,CAAC0B,EAAiB5B,CAAQ,CAC5B,EACMgC,KAAc,eAAY,IAAM,CACpChC,EAASD,GAAO,OAASA,EAAQ,MAAM,CACzC,EAAG,CAACA,EAAOC,CAAQ,CAAC,EACpB,MAAI,CAACwB,GAAO,QAAU,CAACI,GAAiB,QAAUL,EACzB,gBAAoB,WAAgB,IAAI,EAE1C,gBAAoBpB,EAAA,EAAK,CAAE,GAAI,EAAG,GAAI,CAAE,EAAmB,gBAAoBY,EAAA,EAAY,CAAE,QAAS,QAAS,EAAG,OAAO,EAAmB,gBACjKkB,EAAA,GACA,CACE,UAAW7C,EAAQ,YACnB,SAAU,GACV,UAAW,EACX,qBAAsB,GACtB,aAAc,QACd,QAASwC,EACT,MAAO7B,GAAS6B,EAChB,eAAiBC,GAAML,EAAMI,EAAgB,QAAQC,CAAC,CAAC,GAAKA,EAC5D,SAAU5B,EACV,OAAQ+B,EACR,aAAc,CAACE,EAAQ,CAAE,SAAAC,CAAS,IAAsB,gBACtDC,EAAA,EACA,CACE,QAAyB,gBACvBC,EAAA,EACA,CACE,KAAsB,gBAAoBC,EAAA,EAA0B,CAAE,SAAU,OAAQ,CAAC,EACzF,YAA6B,gBAAoBC,EAAA,EAAc,CAAE,SAAU,OAAQ,CAAC,EACpF,QAASJ,CACX,CACF,EACA,MAAOX,EAAMI,EAAgB,QAAQM,CAAM,CAAC,GAAKA,CACnD,CACF,EACA,KAAM,QACN,UAA2B,gBAAoBM,EAAA,EAAgB,CAAE,cAAe,uBAAwB,CAAC,EACzG,YAAcC,GAA2B,gBAAoBC,EAAA,EAAW,CAAE,GAAGD,EAAQ,QAAS,UAAW,CAAC,CAC5G,CACF,CAAC,CACH,EC5EM,KAAYnC,EAAA,GAChB,CACE,YAAa,CACX,SAAU,GACZ,CACF,EACA,CAAE,KAAM,2CAA4C,CACtD,EACMqC,EAA0B,CAAC,CAC/B,cAAAC,EACA,MAAA7C,EACA,SAAAC,CACF,IAAM,CACJ,MAAMZ,EAAU,EAAU,EACpByD,KAAY,WAAQ,IAAMD,EAAc,KAAK,EAAG,CAACA,CAAa,CAAC,EAC/D3C,KAAe,eACnB,CAAC6B,EAAG5B,IAAM,CACRF,EAAS6C,EAAU,MAAOd,GAAM7B,EAAE,SAAS6B,CAAC,CAAC,EAAI,OAAS7B,CAAC,CAC7D,EACA,CAAC2C,EAAW7C,CAAQ,CACtB,EACMgC,KAAc,eAAY,IAAM,CACpChC,EAASD,GAAO,OAASA,EAAQ,MAAM,CACzC,EAAG,CAACA,EAAOC,CAAQ,CAAC,EACpB,OAAuB,gBAAoBG,EAAA,EAAK,CAAE,GAAI,EAAG,GAAI,CAAE,EAAmB,gBAAoBY,EAAA,EAAY,CAAE,QAAS,QAAS,EAAG,WAAW,EAAmB,gBACrKkB,EAAA,GACA,CACE,UAAW7C,EAAQ,YACnB,SAAU,GACV,UAAW,EACX,qBAAsB,GACtB,aAAc,YACd,QAASyD,EACT,MAAO9C,GAAS8C,EAChB,SAAU5C,EACV,OAAQ+B,EACR,aAAc,CAACE,EAAQ,CAAE,SAAAC,CAAS,IAAsB,gBACtDC,EAAA,EACA,CACE,QAAyB,gBACvBC,EAAA,EACA,CACE,KAAsB,gBAAoBC,EAAA,EAA0B,CAAE,SAAU,OAAQ,CAAC,EACzF,YAA6B,gBAAoBC,EAAA,EAAc,CAAE,SAAU,OAAQ,CAAC,EACpF,QAASJ,CACX,CACF,EACA,MAAOD,CACT,CACF,EACA,KAAM,QACN,UAA2B,gBAAoBM,EAAA,EAAgB,CAAE,cAAe,2BAA4B,CAAC,EAC7G,YAAcC,GAA2B,gBAAoBC,EAAA,EAAW,CAAE,GAAGD,EAAQ,QAAS,UAAW,CAAC,CAC5G,CACF,CAAC,CACH,E,eC7DA,MAAM,KAAYnC,EAAA,GAChB,CACE,KAAM,CACJ,MAAO,OACP,SAAU,GACZ,CACF,EACA,CAAE,KAAM,gCAAiC,CAC3C,EACMwC,EAAe,CAAC,CAAE,MAAAC,EAAO,MAAAhD,EAAO,SAAAC,CAAS,IAAM,CACnD,MAAMZ,EAAU,EAAU,EACpBa,KAAe,eAClBT,GAAU,CACTQ,EAASR,EAAM,OAAO,OAAO,CAC/B,EACA,CAACQ,CAAQ,CACX,EACA,OAAuB,gBAAoBG,EAAA,EAAK,CAAE,GAAI,EAAG,GAAI,CAAE,EAAmB,gBAChFiC,EAAA,EACA,CACE,QAAyB,gBACvBY,EAAA,EACA,CACE,QAASjD,EACT,SAAUE,EACV,KAAM8C,EACN,MAAO,SACT,CACF,EACA,MAAAA,EACA,UAAW3D,EAAQ,IACrB,CACF,CAAC,CACH,E,yBChCA,SAAS6D,GAAoB,CAC3B,aAAAC,EAAe,CAAC,CAClB,EAAG,CACD,MAAMC,KAAW,OAAY,EACvBC,KAAW,OAAY,EACvBC,KAAQ,WACZ,IAAM,WAASF,EAAS,OAAQ,CAAE,WAAY,EAAG,kBAAmB,EAAK,CAAC,GAAK,CAAC,EAChF,CAACA,EAAS,MAAM,CAClB,EACMG,KAAkB,WACtB,KAAO,MAAM,QAAQD,EAAM,cAAc,EAAIA,EAAM,eAAiBH,GAAc,gBAAkB,CAAC,GAAG,IAAKnB,MAAM,MAAeA,CAAC,CAAC,EACpI,CAACmB,GAAc,eAAgBG,EAAM,cAAc,CACrD,EACME,KAAqB,eACxBxD,GAAU,CAIT,GAHgBuD,EAAgB,SAAWvD,EAAM,QAAUuD,EAAgB,MACzE,CAACvB,GAAGpC,QAAM,MAAmBoC,EAAC,OAAM,MAAmBhC,EAAMJ,EAAC,CAAC,CACjE,EAEE,OAEF,MAAM6D,GAAY,eAChB,CACE,GAAGH,EACH,eAAgBtD,EAAM,IAAKgC,OAAM,MAAmBA,EAAC,CAAC,CACxD,EACA,CAAE,YAAa,WAAY,eAAgB,EAAK,CAClD,EACAqB,EAASI,EAAS,CACpB,EACA,CAACF,EAAiBF,EAAUC,CAAK,CACnC,EACM,CAACI,EAAUC,CAAW,KAAI,YAC9B,IAAM,OAAOL,EAAM,UAAa,SAAWM,GAAcN,EAAM,QAAQ,EAAIH,GAAc,UAAY,OAAO,iBAC9G,EACM,CAACU,EAAmBC,CAAoB,KAAI,YAChD,IAAM,MAAM,QAAQR,EAAM,iBAAiB,EAAIA,EAAM,kBAAoBH,GAAc,iBACzF,EACM,CAACY,EAAeC,CAAgB,KAAI,YACxC,KAAO,MAAM,QAAQV,EAAM,aAAa,EAAIA,EAAM,cAAgBH,GAAc,gBAAgB,IAAKrB,GAAMA,EAAE,kBAAkB,OAAO,CAAC,CACzI,EACM,CAACmC,GAAgBC,EAAiB,KAAI,YAC1C,IAAM,OAAOZ,EAAM,gBAAmB,SAAWA,EAAM,iBAAmB,OAASH,GAAc,gBAAkB,EACrH,EACM,CAACgB,GAAgBC,EAAiB,KAAI,YAC1C,IAAM,OAAOd,EAAM,gBAAmB,SAAWA,EAAM,iBAAmB,OAASH,GAAc,gBAAkB,EACrH,EACM,CAACkB,GAAWC,EAAY,KAAI,YAChC,IAAM,OAAOhB,EAAM,WAAc,SAAWA,EAAM,UAAYH,GAAc,WAAa,IAAU,UACrG,EACM,CAACoB,GAAOC,EAAQ,KAAI,YACxB,IAAM,OAAOlB,EAAM,OAAU,SAAWA,EAAM,MAAQH,GAAc,OAAS,gBAC/E,EACM,CAACsB,GAAaC,EAAc,KAAI,YACpC,IAAM,OAAOpB,EAAM,aAAgB,SAAWA,EAAM,cAAgB,OAASH,GAAc,aAAe,EAC5G,EACMwB,MAAoB,eACxB,IAAMD,GAAgBE,GAAM,CAACA,CAAC,EAC9B,CAACF,EAAc,CACjB,EACA,sBAAU,IAAM,CACd,MAAMG,EAAY,eAChB,CACE,eAAgBtB,EAAgB,IAAI,IAAkB,EACtD,SAAU,SAASG,CAAQ,EAAIA,EAAW,SAC1C,cAAAK,EACA,kBAAAF,EACA,eAAAI,GACA,eAAAE,GACA,UAAAE,GACA,YAAAI,GACA,MAAAF,EACF,EACA,CAAE,YAAa,WAAY,eAAgB,EAAK,CAClD,EACAlB,EAASwB,EAAW,CAAE,QAAS,EAAK,CAAC,CACvC,EAAG,CACDnB,EACAa,GACAR,EACAF,EACAI,GACAE,GACAE,GACAI,GACAlB,EACAF,CACF,CAAC,EACM,CACL,gBAAAE,EACA,mBAAAC,EACA,SAAAE,EACA,YAAAC,EACA,kBAAAE,EACA,qBAAAC,EACA,cAAAC,EACA,iBAAAC,EACA,eAAAC,GACA,kBAAAC,GACA,eAAAC,GACA,kBAAAC,GACA,UAAAC,GACA,aAAAC,GACA,MAAAC,GACA,SAAAC,GACA,YAAAC,GACA,kBAAAE,EACF,CACF,CACA,SAASf,GAAc5D,EAAO,CAC5B,OAAOA,IAAU,SAAW,OAAO,kBAAoB,OAAOA,CAAK,CACrE,CC/FA,MAAM,MAAYO,EAAA,GACfhB,IAAW,CACV,QAAS,CACP,UAAW,CACb,EACA,UAAW,CACT,OAAQ,OACR,UAAW,OACX,UAAW,CACb,EACA,WAAY,CACV,UAAW,OACX,QAAS,OACT,UAAW,CACb,EACA,aAAc,CACZ,SAAU,WACV,KAAM,EACN,UAAW,EACX,QAAS,MACX,EACA,MAAO,CACL,KAAM,EACN,UAAW,CACb,EACA,OAAQ,CACN,SAAU,WACV,OAAQ,EACR,MAAO,EACP,QAASA,EAAM,QAAQ,CAAC,EACxB,UAAW,CACT,cAAe,QACjB,CACF,EACA,QAAS,CACP,QAAS,OACT,QAASA,EAAM,QAAQ,CAAC,EACxB,aAAc,OACd,CAACA,EAAM,YAAY,GAAG,IAAI,CAAC,EAAG,CAC5B,QAAS,OACX,EACA,CAACA,EAAM,YAAY,KAAK,IAAI,CAAC,EAAG,CAC9B,oBAAqB,gBACvB,EACA,CAACA,EAAM,YAAY,KAAK,IAAI,CAAC,EAAG,CAC9B,oBAAqB,gBACvB,EACA,CAACA,EAAM,YAAY,KAAK,IAAI,CAAC,EAAG,CAC9B,oBAAqB,gBACvB,CACF,CACF,GACA,CAAE,KAAM,oCAAqC,CAC/C,EACMuF,GAAoBnG,GAAU,CAClC,KAAM,CACJ,cAAAkE,EAAgB,KAChB,aAAAM,EACA,aAAA4B,CACF,EAAIpG,EACE0E,KAAW,OAAY,EACvBhE,EAAU,GAAU,EACpB2F,KAAqB,MAAY,IAAc,EAC/C,CACJ,SAAAtB,EACA,YAAAC,EACA,cAAAI,EACA,iBAAAC,EACA,kBAAAH,EACA,qBAAAC,GACA,eAAAG,GACA,kBAAAC,GACA,eAAAC,GACA,kBAAAC,GACA,UAAAC,GACA,aAAAC,GACA,MAAAC,GACA,SAAAC,GACA,gBAAAjB,GACA,mBAAAC,GACA,YAAAiB,EACA,kBAAAE,EACF,EAAIzB,GAAoB,CAAE,aAAAC,CAAa,CAAC,EAClC8B,MAAY,MAAa,EACzBC,MAAc,eAClB,CAACC,GAAM1F,KAAU,CACf,MAAM2F,MAAiB,MAAeD,GAAK,EAAE,EAC7C,GAAI1F,GAAM,SAAU,CAClB,MAAM4F,GAAOL,EAAmB,CAC9B,KAAMI,GAAe,KAAK,kBAAkB,OAAO,EACnD,UAAWA,GAAe,UAAU,kBAAkB,OAAO,EAC7D,KAAMA,GAAe,IACvB,CAAC,EACDH,GAAU,aACR,QACAE,GAAK,OAAO,SAAS,UAAS,KAAkBC,EAAc,EAC9D,CAAE,WAAY,CAAE,GAAIC,EAAK,CAAE,CAC7B,EACAhC,EAASgC,EAAI,CACf,MACEJ,GAAU,aACR,QACAE,GAAK,OAAO,SAAS,UAAS,KAAkBC,EAAc,CAChE,EACA5B,GAAmB,CAAC4B,EAAc,CAAC,CAEvC,EACA,CAACJ,EAAoB3B,EAAUG,GAAoByB,EAAS,CAC9D,EACA,OAAuB,gBAAoB,IAAM,CAAE,QAAS,MAAO,EAAmB,gBACpF,IACA,CACE,MAAO,gBACP,SAAU1B,GAAgB,IAAK+B,OAAM,KAAkBA,EAAC,CAAC,EAAE,KAAK,IAAI,CACtE,CACF,EAAmB,gBAAoB,IAAS,CAAE,QAAS,GAAM,UAAWjG,EAAQ,OAAQ,EAAmB,gBAC7G,IACA,CACE,eAAgC,gBAC9BkG,GAAA,EACA,CACE,MAAO,eACP,SAAUd,EACV,SAAU,IAAME,GAAkB,CACpC,EACgB,gBAAoBa,GAAA,EAAgB,IAAI,EACxD,UACF,CACF,EACgB,gBAAoB,IAAe,KAAM,wEAAwE,CACnI,EAAmB,gBAAoBC,EAAA,EAAM,CAAE,UAAW,GAAM,WAAY,UAAW,UAAWpG,EAAQ,SAAU,EAAGoF,GAA+B,gBAAoBgB,EAAA,EAAM,CAAE,KAAM,GAAM,GAAI,GAAI,GAAI,EAAG,UAAWpG,EAAQ,OAAQ,EAAmB,gBAAoBmB,EAAgB,CAAE,MAAOkD,EAAU,SAAUC,CAAY,CAAC,EAAmB,gBAC1VtC,EACA,CACE,MAAO0C,EACP,SAAUC,CACZ,CACF,EAAmB,gBACjBpB,EACA,CACE,MAAOiB,EACP,SAAUC,GACV,cAAAjB,CACF,CACF,EAAmB,gBAAoBvC,EAAiB,CAAE,MAAO+D,GAAW,SAAUC,EAAa,CAAC,EAAmB,gBAAoBvE,GAAa,CAAE,MAAOwE,GAAO,SAAUC,EAAS,CAAC,EAAmB,gBAC7MzB,EACA,CACE,MAAOkB,GACP,SAAUC,GACV,MAAO,YACT,CACF,EAAmB,gBACjBnB,EACA,CACE,MAAOoB,GACP,SAAUC,GACV,MAAO,iBACT,CACF,CAAC,EAAmB,gBAAoBqB,EAAA,EAAM,CAAE,KAAM,GAAM,GAAI,GAAM,UAAWpG,EAAQ,UAAW,EAAmB,gBAAoBqG,GAAA,EAAO,CAAE,UAAWrG,EAAQ,YAAa,EAAmB,gBACrM2B,EAAA,EACA,CACE,QAAS,UACT,MAAO,gBACP,QAAS,QACT,UAAW3B,EAAQ,MACrB,EACgB,gBAAoBsG,GAAA,EAAY,CAAE,UAAW,MAAO,CAAC,EACrE,+GACF,EAAmB,gBACjB,KACA,CACE,GAAGhH,EACH,gBAAA4E,GACA,SAAAG,EACA,MAAOK,GAAiBA,EAAc,OAAS,EAAIA,EAAgB,OACnE,UAAWF,GAAqBA,EAAkB,OAAS,EAAIA,EAAoB,OACnF,eAAAM,GACA,eAAAF,GACA,YAAAiB,GACA,UAAAb,GACA,cAAAxB,EACA,aAAAkC,EACA,UAAW1F,EAAQ,MACnB,KAAM,UACN,MAAAkF,EACF,CACF,CAAC,CAAC,CAAC,CAAC,CAAC,CACP,C,gLC7MA,MAAMxG,KAAY,MACfwB,IAAW,CACV,KAAM,CACJ,KAAMA,EAAM,QAAQ,YACtB,EACA,UAAW,CACT,KAAMA,EAAM,QAAQ,UACtB,CACF,GACA,CAAE,KAAM,+BAAgC,CAC1C,EACA,SAASqG,EAAmB,CAC1B,KAAM,CAAE,UAAA9C,CAAU,CACpB,EAAG,CACD,MAAMzD,EAAUtB,EAAU,EAC1B,OAAuB,gBAAoB,OAAQ,CAAE,UAAWsB,EAAQ,KAAM,WAAY,QAAS,EAAGyD,EAAU,IAAI,CAACd,EAAGpC,IAAsB,gBAAoB,QAAS,CAAE,IAAKoC,EAAG,UAAW,IAAWpC,EAAI,IAAM,GAAKP,EAAQ,SAAS,CAAE,EAAGO,EAAI,GAAqB,gBAAoB,QAAS,KAAM,KAAK,EAAGoC,CAAC,CAAC,CAAC,CACzT,C,4BCjBA,SAAS6D,GAAW,CAClB,KAAA5H,EACA,GAAGU,CACL,EAAG,CACD,MAAMR,EAAOF,GAAQ6H,GAAA,EACrB,OAAuB,gBAAoB3H,EAAM,CAAE,GAAGQ,CAAM,CAAC,CAC/D,C,eCFA,MAAM,MAAY4B,GAAA,GACfhB,IAAW,CACV,KAAM,CACJ,KAAMA,EAAM,QAAQ,KAAK,GAAG,EAC5B,OAAQA,EAAM,QAAQ,KAAK,GAAG,EAC9B,YAAa,CACX,KAAMA,EAAM,QAAQ,QAAQ,MAC5B,OAAQA,EAAM,QAAQ,QAAQ,KAChC,EACA,cAAe,CACb,KAAMA,EAAM,QAAQ,UAAU,MAC9B,OAAQA,EAAM,QAAQ,UAAU,KAClC,CACF,EACA,KAAM,CACJ,KAAMA,EAAM,QAAQ,gBAAgBA,EAAM,QAAQ,KAAK,GAAG,CAAC,EAC3D,YAAa,CACX,KAAMA,EAAM,QAAQ,QAAQ,YAC9B,EACA,cAAe,CACb,KAAMA,EAAM,QAAQ,UAAU,YAChC,EACA,YAAa,CACX,WAAY,MACd,CACF,EACA,UAAW,CACT,OAAQ,SACV,CACF,GACA,CAAE,KAAM,8BAA+B,CACzC,EACA,SAASwG,GAAkB,CACzB,KAAM,CAAE,GAAAC,EAAI,OAAAC,EAAQ,MAAAC,EAAQ,UAAW,QAAAC,EAAS,QAAAC,CAAQ,CAC1D,EAAG,CACD,MAAM/G,EAAU,GAAU,EACpB,CAACgH,EAAOC,CAAQ,KAAI,YAAS,CAAC,EAC9B,CAACC,EAAQC,CAAS,KAAI,YAAS,CAAC,EAChCC,KAAQ,UAAO,IAAI,EACnBC,KAAgC,MAAsBT,EAAQ,CAClE,iBAAkB,IACpB,CAAC,KACD,mBAAgB,IAAM,CACpB,GAAIQ,EAAM,QAAS,CACjB,GAAI,CAAE,OAAQE,EAAgB,MAAOC,CAAc,EAAIH,EAAM,QAAQ,QAAQ,EAC7EE,EAAiB,KAAK,MAAMA,CAAc,EAC1CC,EAAgB,KAAK,MAAMA,CAAa,GACpCD,IAAmBJ,GAAUK,IAAkBP,KACjDC,EAASM,CAAa,EACtBJ,EAAUG,CAAc,EAE5B,CACF,EAAG,CAACN,EAAOE,CAAM,CAAC,EAClB,MAAMM,EAAc,CAAC,CAACH,EAA8B,KAC9CI,EAAU,GACVC,EAAWR,EACXS,EAAkBH,EAAcE,EAAWD,EAAU,EACrDG,EAAcD,EAAkBX,EAAQS,EAAU,EAClDI,EAAeX,EAASO,EAAU,EAClCK,EAAeT,EAA8B,cAAgBV,EACnE,OAAuB,gBAAoB,IAAK,CAAE,QAAAI,EAAS,UAAW,IAAWA,GAAW/G,EAAQ,SAAS,CAAE,EAAmB,gBAChI,OACA,CACE,UAAW,IACTA,EAAQ,KACR6G,IAAU,WAAa,UACvBA,IAAU,aAAe,WAC3B,EACA,MAAOe,EACP,OAAQC,EACR,GAAI,EACN,CACF,EAAGL,GAA+B,gBAChChB,GACA,CACE,KAAMa,EAA8B,KACpC,EAAGI,EACH,EAAGA,EACH,MAAOC,EACP,OAAQA,EACR,UAAW,IACT1H,EAAQ,KACR8G,GAAW,UACXD,IAAU,WAAa,UACvBA,IAAU,aAAe,WAC3B,CACF,CACF,EAAmB,gBACjB,OACA,CACE,IAAKO,EACL,UAAW,IACTpH,EAAQ,KACR8G,GAAW,UACXD,IAAU,WAAa,UACvBA,IAAU,aAAe,WAC3B,EACA,EAAGgB,EAAe,EAClB,EAAGF,GAAmBX,EAAQS,EAAU,GAAK,EAC7C,WAAY,SACZ,kBAAmB,QACrB,EACAK,CACF,EAAmB,gBAAoB,QAAS,KAAMT,EAA8B,SAAS,CAAC,CAChG,C,+DCzGA,SAASU,IAAiB,CACxB,MAAMC,KAAgB,MAAO,IAAa,EACpCC,KAAQ,UAAO,CACnB,kBAAmC,IAAI,IACvC,oBAAqC,IAAI,IACzC,eAAgC,IAAI,GACtC,CAAC,EACK,CAACC,EAAUC,CAAW,KAAI,YAAS,CAAC,CAAC,EACrCC,KAAiB,eAAY,IAAM,CACvC,KAAM,CAAE,eAAAC,EAAgB,kBAAAC,CAAkB,EAAIL,EAAM,QAC9CM,EAAmB,CAAC,EAC1BD,EAAkB,QAASE,GAAc,CACvC,MAAM5B,EAASyB,EAAe,IAAIG,CAAS,EACvC5B,IACF2B,EAAiBC,CAAS,EAAI5B,EAElC,CAAC,EACDuB,EAAYI,CAAgB,CAC9B,EAAG,CAACN,EAAOE,CAAW,CAAC,EACjB,CAACM,EAAYC,CAAK,KAAIC,GAAA,GAAW,SAAY,CACjD,KAAM,CAAE,kBAAAL,EAAmB,eAAAD,CAAe,EAAIJ,EAAM,QAC9CW,EAAa,MAAM,KAAKN,CAAiB,EAAE,OAC9CE,GAAc,CAACH,EAAe,IAAIG,CAAS,CAC9C,EACA,GAAII,EAAW,SAAW,EAAG,CAC3BR,EAAe,EACf,MACF,CACA,KAAM,CAAE,MAAA3I,CAAM,EAAI,MAAMuI,EAAc,kBAAkB,CAAE,WAAAY,CAAW,CAAC,EACtEnJ,EAAM,QAASoJ,GAAQ,CACrB,GAAIA,EAAK,CACP,MAAML,KAAY,MAAmBK,CAAG,EACxCR,EAAe,IAAIG,EAAWK,CAAG,CACnC,CACF,CAAC,EACDT,EAAe,CACjB,EAAG,CAACH,EAAOG,CAAc,CAAC,EACpB,CAAE,QAAAU,EAAS,MAAA3G,CAAM,EAAIsG,EACrBM,KAAkB,eACrBH,GAAe,CACd,MAAMI,EAAI,IAAI,IAAIJ,CAAU,EACtB,CAAE,kBAAAN,CAAkB,EAAIL,EAAM,SAChCe,EAAE,OAASV,EAAkB,MAAQ,MAAM,KAAKU,CAAC,EAAE,KAAM/C,GAAM,CAACqC,EAAkB,IAAIrC,CAAC,CAAC,KAC1FgC,EAAM,QAAQ,kBAAoBe,EAClCN,EAAM,EACNN,EAAe,EAEnB,EACA,CAACH,EAAOS,EAAON,CAAc,CAC/B,EACA,MAAO,CACL,SAAAF,EACA,QAAAY,EACA,MAAA3G,EACA,gBAAA4G,CACF,CACF,C,eC1DA,SAASE,EAAuB,CAC9B,eAAAC,EACA,OAAQ,CACN,SAAA7E,EAAW,OAAO,kBAClB,UAAAZ,EACA,MAAArB,EACA,aAAAsD,CACF,EAAI,CAAC,CACP,EAAG,CACD,KAAM,CAAE,SAAAwC,EAAU,QAAAY,EAAS,MAAA3G,EAAO,gBAAA4G,CAAgB,EAAIhB,GAAe,EACrE,sBAAU,IAAM,CACd,MAAMoB,EAAmC,IAAI,IAAI,CAAC,GAAGD,CAAc,CAAC,EAC9DE,EAAsC,IAAI,IAChD,IAAIC,EAAoB,CAAC,GAAGH,CAAc,EACtCI,EAAQ,EACZ,KAAOD,EAAkB,OAAS,IAAM,CAAC,SAAShF,CAAQ,GAAKiF,EAAQjF,IAAW,CAChF,MAAMkF,EAAiBF,EAEvB,IADAA,EAAoB,CAAC,EACdE,EAAe,OAAS,GAAG,CAChC,MAAMf,EAAYe,EAAe,MAAM,EACjC3C,EAASsB,EAASM,CAAS,EAEjC,GADAY,EAAoB,IAAIZ,CAAS,EAC7B5B,GAAUA,EAAO,UAAW,CAC9B,GAAIlB,GAAgB,CAACA,EAAakB,CAAM,EACtC,SAEF,UAAW4C,KAAO5C,EAAO,WAClB,CAACnD,GAAaA,EAAU,SAAS+F,EAAI,IAAI,KAAO,CAACpH,GAASA,EAAM,KAClEqH,GAASD,EAAI,UAAU,WACtB,GAAGC,EAAK,kBAAkB,OAAO,CAAC,GACpC,CACF,KACOL,EAAoB,IAAII,EAAI,SAAS,IACxCH,EAAkB,KAAKG,EAAI,SAAS,EACpCL,EAAiB,IAAIK,EAAI,SAAS,GAI1C,CACF,CACA,EAAEF,CACJ,CACAP,EAAgB,CAAC,GAAGI,CAAgB,CAAC,CACvC,EAAG,CACDjB,EACAgB,EACA7E,EACAZ,EACArB,EACAsD,EACAqD,CACF,CAAC,EAKM,CACL,YALuB,WACvB,IAAMrD,KAAe,UAAOwC,EAAU,CAACvH,EAAO+I,IAAShE,EAAa/E,CAAK,CAAC,EAAIuH,EAC9E,CAACA,EAAUxC,CAAY,CACzB,EAGE,QAAAoD,EACA,MAAA3G,CACF,CACF,CC3DA,SAASwH,EAA+B,CACtC,eAAAT,EACA,SAAA7E,EAAW,OAAO,kBAClB,eAAAO,EAAiB,GACjB,eAAAE,EAAiB,GACjB,MAAA1C,EACA,UAAAqB,EACA,aAAAiC,EACA,YAAAG,EACA,cAAArC,EAAgB,IAClB,EAAG,CACD,KAAM,CAACoG,EAAeC,CAAgB,KAAI,YAAS,CAAC,CAAC,EAC/C,CAAE,SAAA3B,EAAU,QAAAY,EAAS,MAAA3G,CAAM,EAAI8G,EAAuB,CAC1D,eAAAC,EACA,OAAQ,CACN,SAAA7E,EACA,MAAAjC,EACA,UAAAqB,EACA,aAAAiC,CACF,CACF,CAAC,EACD,SAAAoE,EAAA,GACE,IAAM,CACJ,GAAI,CAAC5B,GAAY,OAAO,KAAKA,CAAQ,EAAE,SAAW,EAAG,CACnD2B,EAAiB,CAAC,CAAC,EACnB,MACF,CACA,MAAME,EAAQ,OAAO,QAAQ7B,CAAQ,EAAE,IAAI,CAAC,CAACM,EAAW5B,CAAM,IAAM,CAClE,MAAME,EAAUoC,EAAe,SAASV,CAAS,EAC3C1C,EAAO,CACX,GAAI0C,EACJ,OAAA5B,EACA,QAAAE,EACA,MAAOA,EAAU,YAAc,UAE/B,KAAMF,EAAO,KACb,KAAMA,EAAO,SAAS,KACtB,UAAWA,EAAO,SAAS,WAAa,KACxC,MAAOA,EAAO,SAAS,MACvB,KAAMA,EAAO,IACf,EACA,OAAIf,IACFC,EAAK,QAAW1F,GAAUyF,EAAYC,EAAM1F,CAAK,GAE5C0F,CACT,CAAC,EACKkE,EAAQ,CAAC,EACTC,EAA+B,IAAI,IACnCC,EAAY,CAAC,GAAGhB,CAAc,EACpC,KAAOgB,EAAU,OAAS,GAAG,CAC3B,MAAM1B,EAAY0B,EAAU,IAAI,EAC1BtD,EAASsB,EAASM,CAAS,EACjCyB,EAAa,IAAIzB,CAAS,EACtB5B,GACFA,GAAQ,WAAW,QAAS4C,GAAQ,CAClC,GAAKtB,EAASsB,EAAI,SAAS,GAGvB,EAAA/F,GAAa,CAACA,EAAU,SAAS+F,EAAI,IAAI,IAGzC,EAAApH,GAAS,CAACA,EAAM,KACjBqH,GAASD,EAAI,UAAU,WAAW,GAAGC,EAAK,kBAAkB,OAAO,CAAC,GAAG,CAC1E,GAGA,IAAI,CAAC7E,GAAkB,CAACqF,EAAa,IAAIT,EAAI,SAAS,EACpD,GAAI1E,EAAgB,CAClB,MAAMqF,EAAO3G,EAAc,KACzB,CAAC,CAAC4G,GAAGzH,EAAC,IAAMyH,KAAMZ,EAAI,MAAQ7G,KAAM6G,EAAI,IAC1C,GAAK,CAACA,EAAI,IAAI,EACR,CAACa,CAAI,EAAIF,EACfH,EAAM,KAAK,CACT,KAAMK,IAASb,EAAI,KAAOhB,EAAYgB,EAAI,UAC1C,GAAIa,IAASb,EAAI,KAAOA,EAAI,UAAYhB,EACxC,UAAW2B,EACX,MAAO,SACT,CAAC,CACH,MACEH,EAAM,KAAK,CACT,KAAMxB,EACN,GAAIgB,EAAI,UACR,UAAW,CAACA,EAAI,IAAI,EACpB,MAAO,SACT,CAAC,EAOL,GAJKS,EAAa,IAAIT,EAAI,SAAS,IACjCU,EAAU,KAAKV,EAAI,SAAS,EAC5BS,EAAa,IAAIT,EAAI,SAAS,GAE5B5E,EAAgB,CAClB,MAAM0F,EAAYN,EAAM,UACrBO,GAAS/B,IAAc+B,EAAK,MAAQf,EAAI,YAAce,EAAK,IAAM,CAACA,EAAK,UAAU,SAASf,EAAI,IAAI,CACrG,EACA,GAAIc,GAAa,EACf,GAAIxF,EAAgB,CAClB,MAAMqF,EAAO3G,EAAc,KACzB,CAAC,CAAC4G,GAAGzH,EAAC,IAAMyH,KAAMZ,EAAI,MAAQ7G,KAAM6G,EAAI,IAC1C,GAAK,CAACA,EAAI,IAAI,EACdQ,EAAMM,CAAS,EAAE,UAAY,CAC3B,GAAGN,EAAMM,CAAS,EAAE,UACpB,GAAGH,CACL,CACF,MACEH,EAAMM,CAAS,EAAE,UAAY,CAC3B,GAAGN,EAAMM,CAAS,EAAE,UACpBd,EAAI,IACN,CAGN,EACF,CAAC,CAEL,CACA,MAAMgB,EAAaR,EAAM,OAAO,CAACS,EAAeC,IAAgB,CAC9D,MAAMC,EAAaF,EAAc,UAC9BG,GAAiBA,EAAa,OAASF,EAAY,MAAQE,EAAa,KAAOF,EAAY,EAC9F,EACA,OAAIC,GAAc,GAChBF,EAAcE,CAAU,EAAI,CAC1B,GAAGF,EAAcE,CAAU,EAC3B,UAAW,MAAM,KACC,IAAI,IAAI,CACtB,GAAGF,EAAcE,CAAU,EAAE,UAC7B,GAAGD,EAAY,SACjB,CAAC,CACH,CACF,EACOD,GAEF,CAAC,GAAGA,EAAeC,CAAW,CACvC,EAAG,CAAC,CAAC,EACLb,EAAiB,CAAE,MAAAE,EAAO,MAAOS,CAAW,CAAC,CAC/C,EACA,IACA,CACEtC,EACAgB,EACA9G,EACAqB,EACAmB,EACAE,EACAe,EACArC,CACF,CACF,EACO,CACL,QAAAsF,EACA,MAAA3G,EACA,GAAGyH,CACL,CACF,CCjJA,MAAM,MAAY1I,GAAA,GACfhB,IAAW,CACV,SAAU,CACR,SAAU,WACV,KAAM,MACN,IAAK,MACL,WAAY,QACZ,UAAW,OACb,EACA,UAAW,CACT,SAAU,WACV,MAAO,OACP,QAAS,OACT,cAAe,QACjB,EACA,MAAO,CACL,MAAO,OACP,KAAM,EAGN,qBAAsB,CACpB,WAAY,yBACd,EACA,2BAA4B,CAC1B,OAAQ,2BAA2BA,EAAM,QAAQ,QAAQ,IAAI,IAC/D,EACA,yBAA0B,CACxB,WAAY,cACd,CACF,CACF,GACA,CAAE,KAAM,wCAAyC,CACnD,EACM2K,GAAwBvL,GAAU,CACtC,KAAM,CACJ,gBAAA4E,EACA,SAAAG,EAAW,EACX,eAAAO,EAAiB,GACjB,eAAAE,EAAiB,GACjB,MAAA1C,EACA,UAAAqB,EACA,aAAAiC,EACA,UAAAV,EAAY,KAAU,WACtB,YAAAa,EACA,cAAArC,EAAgB,KAChB,UAAAsH,EACA,KAAAC,EAAO,UACP,WAAAC,EACA,YAAAC,EACA,MAAA/F,EACA,eAAAgG,CACF,EAAI5L,EACEY,KAAQiL,GAAA,GAAS,EACjBnL,EAAU,GAAU,EACpBkJ,KAAiB,WACrB,KAAO,MAAM,QAAQhF,CAAe,EAAIA,EAAkB,CAACA,CAAe,GAAG,IAAK+B,OAAM,MAAmBA,EAAC,CAAC,EAC7G,CAAC/B,CAAe,CAClB,EACMkH,KAAW,MAAO,GAAW,EAC7B,CAAE,QAAAtC,EAAS,MAAA3G,EAAO,MAAA4H,EAAO,MAAAC,EAAM,EAAIL,EAA+B,CACtE,eAAAT,EACA,SAAA7E,EACA,eAAAO,EACA,eAAAE,EACA,MAAA1C,EACA,UAAAqB,EACA,aAAAiC,EACA,YAAAG,EACA,cAAArC,CACF,CAAC,EACD,sBAAU,IAAM,CACVrB,GACFiJ,EAAS,KAAKjJ,CAAK,CAEvB,EAAG,CAACiJ,EAAUjJ,CAAK,CAAC,EACG,gBAAoB,MAAO,CAAE,UAAW,IAAWnC,EAAQ,UAAW8K,CAAS,CAAE,EAAGhC,GAA2B,gBAAoBuC,EAAA,EAAkB,CAAE,UAAWrL,EAAQ,QAAS,CAAC,EAAG+J,GAASC,IAAyB,gBAC9O,IACA,CACE,MAAAD,EACA,MAAAC,GACA,WAAYgB,GAActE,GAC1B,YAAauE,GAAe1E,EAC5B,UAAAvB,EACA,UAAWhF,EAAQ,MACnB,SAAUE,EAAM,QAAQ,CAAC,EACzB,SAAUA,EAAM,QAAQ,CAAC,EACzB,cAAe,IAAqB,cAAc,MAClD,YAAaA,EAAM,QAAQ,CAAC,EAC5B,KAAA6K,EACA,MAAA7F,EACA,eAAAgG,CACF,CACF,CAAC,CACH,C,mDCxGA,MAAMI,EAAqB,CACzB,CAAC,KAAmB,IAAiB,EACrC,CAAC,KAAuB,IAAwB,EAChD,CAAC,KAA0B,IAAqB,EAChD,CAAC,KAAmB,IAAgB,EACpC,CAAC,KAAoB,IAAiB,EACtC,CAAC,KAAqB,IAAkB,EACxC,CAAC,KAAqB,IAAsB,CAC9C,C,yBCRIC,EAAyB,EAAQ,IAA8C,EAE/EC,EAA0B,EAAQ,KAA+C,EAErF,EAA6C,CAC3C,MAAO,EACT,EACAC,EAAQ,EAAU,OAElB,IAAIC,EAAQF,EAAwB,EAAQ,KAAO,CAAC,EAEhDG,EAAiBJ,EAAuB,EAAQ,KAAuB,CAAC,EAExEK,KAAeD,EAAe,SAAuBD,EAAM,cAAc,OAAQ,CACnF,EAAG,qIACL,CAAC,EAAG,UAAU,EAEdD,EAAQ,EAAUG,C,yBCjBdL,EAAyB,EAAQ,IAA8C,EAE/EC,EAA0B,EAAQ,KAA+C,EAErF,EAA6C,CAC3C,MAAO,EACT,EACAC,EAAQ,EAAU,OAElB,IAAIC,EAAQF,EAAwB,EAAQ,KAAO,CAAC,EAEhDG,EAAiBJ,EAAuB,EAAQ,KAAuB,CAAC,EAExEK,KAAeD,EAAe,SAAuBD,EAAM,cAAc,OAAQ,CACnF,EAAG,4FACL,CAAC,EAAG,sBAAsB,EAE1BD,EAAQ,EAAUG,C,yBCjBdL,EAAyB,EAAQ,IAA8C,EAE/EC,EAA0B,EAAQ,KAA+C,EAErF,EAA6C,CAC3C,MAAO,EACT,EACAC,EAAQ,EAAU,OAElB,IAAIC,EAAQF,EAAwB,EAAQ,KAAO,CAAC,EAEhDG,EAAiBJ,EAAuB,EAAQ,KAAuB,CAAC,EAExEK,KAAeD,EAAe,SAAuBD,EAAM,cAAc,OAAQ,CACnF,EAAG,qNACL,CAAC,EAAG,YAAY,EAEhBD,EAAQ,EAAUG,C,8HCVPC,GAAS,SAAgB3L,EAAO,CACzC,MAAO,CAEL,QAAM,KAAS,CAAC,EAAGA,EAAM,WAAW,OAAQ,CAC1C,UAAW,aACX,aAAcA,EAAM,MAAM,aAC1B,QAAS,GACT,OAAQ,aAAa,UAAO,MAAMA,EAAM,QAAQ,OAAO,OAAQ,GAAI,CAAC,EACpE,SAAO,MAAMA,EAAM,QAAQ,OAAO,OAAQ,GAAI,EAC9C,aAAc,CACZ,MAAOA,EAAM,QAAQ,OAAO,OAC5B,mBAAiB,MAAMA,EAAM,QAAQ,OAAO,OAAQ,GAAI,EACxD,UAAW,CACT,mBAAiB,MAAMA,EAAM,QAAQ,OAAO,OAAQ,GAAI,CAC1D,EACA,QAAS,CACP,WAAY,EACZ,WAAY,CACd,CACF,EACA,aAAc,CACZ,SAAO,MAAMA,EAAM,QAAQ,OAAO,SAAU,GAAI,CAClD,EACA,UAAW,CACT,eAAgB,OAEhB,mBAAiB,MAAMA,EAAM,QAAQ,KAAK,QAAS,GAAI,EACvD,uBAAwB,CACtB,gBAAiB,aACnB,EACA,aAAc,CACZ,gBAAiB,aACnB,CACF,CACF,CAAC,EAGD,SAAU,CAAC,EAGX,SAAU,CAAC,EAGX,MAAO,CACL,MAAO,OAEP,QAAS,UACT,WAAY,UACZ,eAAgB,SAClB,EAGA,UAAW,CACT,QAAS,EACT,SAAUA,EAAM,WAAW,QAAQ,EAAE,CACvC,EAGA,UAAW,CACT,QAAS,GACT,SAAUA,EAAM,WAAW,QAAQ,EAAE,CACvC,CACF,CACF,EACIgG,EAA4B,aAAiB,SAAsB5G,EAAOwM,EAAK,CACjF,IAAIpM,GAAWJ,EAAM,SACjBU,GAAUV,EAAM,QAChBwL,GAAYxL,EAAM,UAClByM,EAAkBzM,EAAM,SACxB0M,GAAWD,IAAoB,OAAS,GAAQA,EAChDE,GAAwB3M,EAAM,mBAC9B4M,GAAqBD,KAA0B,OAAS,GAAQA,GAChErL,GAAWtB,EAAM,SACjByH,EAAUzH,EAAM,QAChByD,GAAWzD,EAAM,SACjB6M,GAAc7M,EAAM,KACpB8M,GAAOD,KAAgB,OAAS,SAAWA,GAC3CxL,EAAQrB,EAAM,MACd+M,KAAQ,KAAyB/M,EAAO,CAAC,WAAY,UAAW,YAAa,WAAY,qBAAsB,WAAY,UAAW,WAAY,OAAQ,OAAO,CAAC,EAElKuB,EAAe,SAAsBT,GAAO,CAC1C2G,IACFA,EAAQ3G,GAAOO,CAAK,EAEhBP,GAAM,mBAAmB,IAK3BQ,IACFA,GAASR,GAAOO,CAAK,CAEzB,EAEA,OAAoB,gBAAoB,QAAY,KAAS,CAC3D,aAAW,WAAKX,GAAQ,KAAM8K,GAAWkB,IAAYhM,GAAQ,SAAU+C,IAAY/C,GAAQ,SAAUoM,KAAS,UAAYpM,GAAQ,OAAO,UAAO,MAAWoM,EAAI,CAAC,CAAC,CAAC,EAClK,SAAUJ,GACV,YAAa,CAACE,GACd,IAAKJ,EACL,QAASjL,EACT,SAAUD,GACV,MAAOD,EACP,eAAgBoC,EAClB,EAAGsJ,CAAK,EAAgB,gBAAoB,OAAQ,CAClD,UAAWrM,GAAQ,KACrB,EAAGN,EAAQ,CAAC,CACd,CAAC,EA2DD,WAAe,KAAWmM,GAAQ,CAChC,KAAM,iBACR,CAAC,EAAE3F,CAAY,C","sources":["webpack://app/../../node_modules/@backstage/core-components/dist/components/SupportButton/SupportButton.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/CatalogGraphPage/CurveFilter.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/CatalogGraphPage/DirectionFilter.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/CatalogGraphPage/MaxDepthFilter.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/CatalogGraphPage/SelectedKindsFilter.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/CatalogGraphPage/SelectedRelationsFilter.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/CatalogGraphPage/SwitchFilter.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/CatalogGraphPage/useCatalogGraphPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/CatalogGraphPage/CatalogGraphPage.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/EntityRelationsGraph/DefaultRenderLabel.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/EntityRelationsGraph/EntityIcon.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/EntityRelationsGraph/DefaultRenderNode.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/EntityRelationsGraph/useEntityStore.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/EntityRelationsGraph/useEntityRelationGraph.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/EntityRelationsGraph/useEntityRelationNodesAndEdges.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/EntityRelationsGraph/EntityRelationsGraph.esm.js","webpack://app/../../node_modules/@backstage/plugin-catalog-graph/dist/components/EntityRelationsGraph/relations.esm.js","webpack://app/../../node_modules/@material-ui/icons/CheckBox.js","webpack://app/../../node_modules/@material-ui/icons/CheckBoxOutlineBlank.js","webpack://app/../../node_modules/@material-ui/icons/ZoomOutMap.js","webpack://app/../../node_modules/@material-ui/lab/esm/ToggleButton/ToggleButton.js"],"sourcesContent":["import { useApp } from '@backstage/core-plugin-api';\nimport Box from '@material-ui/core/Box';\nimport Button from '@material-ui/core/Button';\nimport DialogActions from '@material-ui/core/DialogActions';\nimport IconButton from '@material-ui/core/IconButton';\nimport ListItemIcon from '@material-ui/core/ListItemIcon';\nimport ListItemText from '@material-ui/core/ListItemText';\nimport MenuItem from '@material-ui/core/MenuItem';\nimport MenuList from '@material-ui/core/MenuList';\nimport Popover from '@material-ui/core/Popover';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Typography from '@material-ui/core/Typography';\nimport useMediaQuery from '@material-ui/core/useMediaQuery';\nimport React__default, { useState } from 'react';\nimport 'lodash';\nimport 'qs';\nimport 'react-router-dom';\nimport '@react-hookz/web';\nimport { useSupportConfig } from '../../hooks/useSupportConfig.esm.js';\nimport { HelpIcon } from '../../icons/icons.esm.js';\nimport { Link } from '../Link/Link.esm.js';\nimport { coreComponentsTranslationRef } from '../../translation.esm.js';\nimport { useTranslationRef } from '@backstage/core-plugin-api/alpha';\n\nconst useStyles = makeStyles(\n  {\n    popoverList: {\n      minWidth: 260,\n      maxWidth: 400\n    },\n    menuItem: {\n      whiteSpace: \"normal\"\n    }\n  },\n  { name: \"BackstageSupportButton\" }\n);\nconst SupportIcon = ({ icon }) => {\n  const app = useApp();\n  const Icon = icon ? app.getSystemIcon(icon) ?? HelpIcon : HelpIcon;\n  return /* @__PURE__ */ React__default.createElement(Icon, null);\n};\nconst SupportLink = ({ link }) => /* @__PURE__ */ React__default.createElement(Link, { to: link.url }, link.title ?? link.url);\nconst SupportListItem = ({ item }) => {\n  return /* @__PURE__ */ React__default.createElement(MenuItem, { button: false }, /* @__PURE__ */ React__default.createElement(ListItemIcon, null, /* @__PURE__ */ React__default.createElement(SupportIcon, { icon: item.icon })), /* @__PURE__ */ React__default.createElement(\n    ListItemText,\n    {\n      primary: item.title,\n      secondary: item.links?.reduce(\n        (prev, link, idx) => [\n          ...prev,\n          idx > 0 && /* @__PURE__ */ React__default.createElement(\"br\", { key: idx }),\n          /* @__PURE__ */ React__default.createElement(SupportLink, { link, key: link.url })\n        ],\n        []\n      )\n    }\n  ));\n};\nfunction SupportButton(props) {\n  const { t } = useTranslationRef(coreComponentsTranslationRef);\n  const { title, items, children } = props;\n  const { items: configItems } = useSupportConfig();\n  const [popoverOpen, setPopoverOpen] = useState(false);\n  const [anchorEl, setAnchorEl] = useState(null);\n  const classes = useStyles();\n  const isSmallScreen = useMediaQuery(\n    (theme) => theme.breakpoints.down(\"sm\")\n  );\n  const onClickHandler = (event) => {\n    setAnchorEl(event.currentTarget);\n    setPopoverOpen(true);\n  };\n  const popoverCloseHandler = () => {\n    setPopoverOpen(false);\n  };\n  return /* @__PURE__ */ React__default.createElement(React__default.Fragment, null, /* @__PURE__ */ React__default.createElement(Box, { display: \"flex\", ml: 1 }, isSmallScreen ? /* @__PURE__ */ React__default.createElement(\n    IconButton,\n    {\n      color: \"primary\",\n      size: \"small\",\n      onClick: onClickHandler,\n      \"data-testid\": \"support-button\",\n      \"aria-label\": \"Support\"\n    },\n    /* @__PURE__ */ React__default.createElement(HelpIcon, null)\n  ) : /* @__PURE__ */ React__default.createElement(\n    Button,\n    {\n      \"data-testid\": \"support-button\",\n      \"aria-label\": \"Support\",\n      color: \"primary\",\n      onClick: onClickHandler,\n      startIcon: /* @__PURE__ */ React__default.createElement(HelpIcon, null)\n    },\n    t(\"supportButton.title\")\n  )), /* @__PURE__ */ React__default.createElement(\n    Popover,\n    {\n      \"data-testid\": \"support-button-popover\",\n      open: popoverOpen,\n      anchorEl,\n      anchorOrigin: {\n        vertical: \"bottom\",\n        horizontal: \"right\"\n      },\n      transformOrigin: {\n        vertical: \"top\",\n        horizontal: \"right\"\n      },\n      onClose: popoverCloseHandler\n    },\n    /* @__PURE__ */ React__default.createElement(\n      MenuList,\n      {\n        className: classes.popoverList,\n        autoFocusItem: Boolean(anchorEl)\n      },\n      title && /* @__PURE__ */ React__default.createElement(\n        MenuItem,\n        {\n          button: false,\n          alignItems: \"flex-start\",\n          className: classes.menuItem\n        },\n        /* @__PURE__ */ React__default.createElement(Typography, { variant: \"subtitle1\" }, title)\n      ),\n      React__default.Children.map(children, (child, i) => /* @__PURE__ */ React__default.createElement(\n        MenuItem,\n        {\n          button: false,\n          alignItems: \"flex-start\",\n          key: `child-${i}`,\n          className: classes.menuItem\n        },\n        child\n      )),\n      (items ?? configItems).map((item, i) => /* @__PURE__ */ React__default.createElement(SupportListItem, { item, key: `item-${i}` }))\n    ),\n    /* @__PURE__ */ React__default.createElement(DialogActions, null, /* @__PURE__ */ React__default.createElement(\n      Button,\n      {\n        color: \"primary\",\n        onClick: popoverCloseHandler,\n        \"aria-label\": \"Close\"\n      },\n      t(\"supportButton.close\")\n    ))\n  ));\n}\n\nexport { SupportButton };\n//# sourceMappingURL=SupportButton.esm.js.map\n","import { Select } from '@backstage/core-components';\nimport Box from '@material-ui/core/Box';\nimport React, { useCallback } from 'react';\n\nconst CURVE_DISPLAY_NAMES = {\n  curveMonotoneX: \"Monotone X\",\n  curveStepBefore: \"Step Before\"\n};\nconst curves = [\"curveMonotoneX\", \"curveStepBefore\"];\nconst CurveFilter = ({ value, onChange }) => {\n  const handleChange = useCallback(\n    (v) => onChange(v),\n    [onChange]\n  );\n  return /* @__PURE__ */ React.createElement(Box, { pb: 1, pt: 1 }, /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      label: \"Curve\",\n      selected: value,\n      items: curves.map((v) => ({\n        label: CURVE_DISPLAY_NAMES[v],\n        value: v\n      })),\n      onChange: handleChange\n    }\n  ));\n};\n\nexport { CurveFilter };\n//# sourceMappingURL=CurveFilter.esm.js.map\n","import { Select } from '@backstage/core-components';\nimport Box from '@material-ui/core/Box';\nimport React, { useCallback } from 'react';\nimport '../EntityRelationsGraph/EntityRelationsGraph.esm.js';\nimport '@backstage/catalog-model';\nimport { Direction } from '../EntityRelationsGraph/types.esm.js';\n\nconst DIRECTION_DISPLAY_NAMES = {\n  [Direction.LEFT_RIGHT]: \"Left to right\",\n  [Direction.RIGHT_LEFT]: \"Right to left\",\n  [Direction.TOP_BOTTOM]: \"Top to bottom\",\n  [Direction.BOTTOM_TOP]: \"Bottom to top\"\n};\nconst DirectionFilter = ({ value, onChange }) => {\n  const handleChange = useCallback(\n    (v) => onChange(v),\n    [onChange]\n  );\n  return /* @__PURE__ */ React.createElement(Box, { pb: 1, pt: 1 }, /* @__PURE__ */ React.createElement(\n    Select,\n    {\n      label: \"Direction\",\n      selected: value,\n      items: Object.values(Direction).map((v) => ({\n        label: DIRECTION_DISPLAY_NAMES[v],\n        value: v\n      })),\n      onChange: handleChange\n    }\n  ));\n};\n\nexport { DirectionFilter };\n//# sourceMappingURL=DirectionFilter.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport FormControl from '@material-ui/core/FormControl';\nimport IconButton from '@material-ui/core/IconButton';\nimport InputAdornment from '@material-ui/core/InputAdornment';\nimport OutlinedInput from '@material-ui/core/OutlinedInput';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport ClearIcon from '@material-ui/icons/Clear';\nimport React, { useRef, useState, useEffect, useCallback } from 'react';\n\nconst useStyles = makeStyles(\n  {\n    formControl: {\n      width: \"100%\",\n      maxWidth: 300\n    }\n  },\n  { name: \"PluginCatalogGraphMaxDepthFilter\" }\n);\nconst MaxDepthFilter = ({ value, onChange }) => {\n  const classes = useStyles();\n  const onChangeRef = useRef(onChange);\n  const [currentValue, setCurrentValue] = useState(value);\n  useEffect(() => {\n    onChangeRef.current = onChange;\n  }, [onChange]);\n  useEffect(() => {\n    setCurrentValue(value);\n  }, [value]);\n  const handleChange = useCallback(\n    (event) => {\n      const newValueNumeric = Number(event.target.value);\n      const newValue = Number.isFinite(newValueNumeric) && newValueNumeric > 0 ? newValueNumeric : Number.POSITIVE_INFINITY;\n      setCurrentValue(newValue);\n      onChangeRef.current(newValue);\n    },\n    []\n  );\n  const reset = useCallback(() => {\n    setCurrentValue(Number.POSITIVE_INFINITY);\n    onChangeRef.current(Number.POSITIVE_INFINITY);\n  }, [onChangeRef]);\n  return /* @__PURE__ */ React.createElement(Box, { pb: 1, pt: 1 }, /* @__PURE__ */ React.createElement(FormControl, { variant: \"outlined\", className: classes.formControl }, /* @__PURE__ */ React.createElement(Typography, { variant: \"button\" }, \"Max Depth\"), /* @__PURE__ */ React.createElement(\n    OutlinedInput,\n    {\n      type: \"number\",\n      placeholder: \"\\u221E Infinite\",\n      value: Number.isFinite(currentValue) ? String(currentValue) : \"\",\n      onChange: handleChange,\n      endAdornment: /* @__PURE__ */ React.createElement(InputAdornment, { position: \"end\" }, /* @__PURE__ */ React.createElement(\n        IconButton,\n        {\n          \"aria-label\": \"clear max depth\",\n          onClick: reset,\n          edge: \"end\"\n        },\n        /* @__PURE__ */ React.createElement(ClearIcon, null)\n      )),\n      inputProps: {\n        \"aria-label\": \"maxp\"\n      },\n      labelWidth: 0\n    }\n  )));\n};\n\nexport { MaxDepthFilter };\n//# sourceMappingURL=MaxDepthFilter.esm.js.map\n","import { useApi, alertApiRef } from '@backstage/core-plugin-api';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport Box from '@material-ui/core/Box';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport React, { useEffect, useMemo, useCallback } from 'react';\nimport useAsync from 'react-use/esm/useAsync';\n\nconst useStyles = makeStyles(\n  {\n    formControl: {\n      maxWidth: 300\n    }\n  },\n  { name: \"PluginCatalogGraphSelectedKindsFilter\" }\n);\nconst SelectedKindsFilter = ({ value, onChange }) => {\n  const classes = useStyles();\n  const alertApi = useApi(alertApiRef);\n  const catalogApi = useApi(catalogApiRef);\n  const { error, value: kinds } = useAsync(async () => {\n    return await catalogApi.getEntityFacets({ facets: [\"kind\"] }).then((response) => response.facets.kind?.map((f) => f.value).sort() || []);\n  });\n  useEffect(() => {\n    if (error) {\n      alertApi.post({\n        message: `Failed to load entity kinds`,\n        severity: \"error\"\n      });\n    }\n  }, [error, alertApi]);\n  const normalizedKinds = useMemo(\n    () => kinds ? kinds.map((k) => k.toLocaleLowerCase(\"en-US\")) : kinds,\n    [kinds]\n  );\n  const handleChange = useCallback(\n    (_, v) => {\n      onChange(\n        normalizedKinds && normalizedKinds.every((r) => v.includes(r)) ? void 0 : v\n      );\n    },\n    [normalizedKinds, onChange]\n  );\n  const handleEmpty = useCallback(() => {\n    onChange(value?.length ? value : void 0);\n  }, [value, onChange]);\n  if (!kinds?.length || !normalizedKinds?.length || error) {\n    return /* @__PURE__ */ React.createElement(React.Fragment, null);\n  }\n  return /* @__PURE__ */ React.createElement(Box, { pb: 1, pt: 1 }, /* @__PURE__ */ React.createElement(Typography, { variant: \"button\" }, \"Kinds\"), /* @__PURE__ */ React.createElement(\n    Autocomplete,\n    {\n      className: classes.formControl,\n      multiple: true,\n      limitTags: 4,\n      disableCloseOnSelect: true,\n      \"aria-label\": \"Kinds\",\n      options: normalizedKinds,\n      value: value ?? normalizedKinds,\n      getOptionLabel: (k) => kinds[normalizedKinds.indexOf(k)] ?? k,\n      onChange: handleChange,\n      onBlur: handleEmpty,\n      renderOption: (option, { selected }) => /* @__PURE__ */ React.createElement(\n        FormControlLabel,\n        {\n          control: /* @__PURE__ */ React.createElement(\n            Checkbox,\n            {\n              icon: /* @__PURE__ */ React.createElement(CheckBoxOutlineBlankIcon, { fontSize: \"small\" }),\n              checkedIcon: /* @__PURE__ */ React.createElement(CheckBoxIcon, { fontSize: \"small\" }),\n              checked: selected\n            }\n          ),\n          label: kinds[normalizedKinds.indexOf(option)] ?? option\n        }\n      ),\n      size: \"small\",\n      popupIcon: /* @__PURE__ */ React.createElement(ExpandMoreIcon, { \"data-testid\": \"selected-kinds-expand\" }),\n      renderInput: (params) => /* @__PURE__ */ React.createElement(TextField, { ...params, variant: \"outlined\" })\n    }\n  ));\n};\n\nexport { SelectedKindsFilter };\n//# sourceMappingURL=SelectedKindsFilter.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport Checkbox from '@material-ui/core/Checkbox';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport TextField from '@material-ui/core/TextField';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport CheckBoxIcon from '@material-ui/icons/CheckBox';\nimport CheckBoxOutlineBlankIcon from '@material-ui/icons/CheckBoxOutlineBlank';\nimport ExpandMoreIcon from '@material-ui/icons/ExpandMore';\nimport Autocomplete from '@material-ui/lab/Autocomplete';\nimport React, { useMemo, useCallback } from 'react';\n\nconst useStyles = makeStyles(\n  {\n    formControl: {\n      maxWidth: 300\n    }\n  },\n  { name: \"PluginCatalogGraphSelectedRelationsFilter\" }\n);\nconst SelectedRelationsFilter = ({\n  relationPairs,\n  value,\n  onChange\n}) => {\n  const classes = useStyles();\n  const relations = useMemo(() => relationPairs.flat(), [relationPairs]);\n  const handleChange = useCallback(\n    (_, v) => {\n      onChange(relations.every((r) => v.includes(r)) ? void 0 : v);\n    },\n    [relations, onChange]\n  );\n  const handleEmpty = useCallback(() => {\n    onChange(value?.length ? value : void 0);\n  }, [value, onChange]);\n  return /* @__PURE__ */ React.createElement(Box, { pb: 1, pt: 1 }, /* @__PURE__ */ React.createElement(Typography, { variant: \"button\" }, \"Relations\"), /* @__PURE__ */ React.createElement(\n    Autocomplete,\n    {\n      className: classes.formControl,\n      multiple: true,\n      limitTags: 4,\n      disableCloseOnSelect: true,\n      \"aria-label\": \"Relations\",\n      options: relations,\n      value: value ?? relations,\n      onChange: handleChange,\n      onBlur: handleEmpty,\n      renderOption: (option, { selected }) => /* @__PURE__ */ React.createElement(\n        FormControlLabel,\n        {\n          control: /* @__PURE__ */ React.createElement(\n            Checkbox,\n            {\n              icon: /* @__PURE__ */ React.createElement(CheckBoxOutlineBlankIcon, { fontSize: \"small\" }),\n              checkedIcon: /* @__PURE__ */ React.createElement(CheckBoxIcon, { fontSize: \"small\" }),\n              checked: selected\n            }\n          ),\n          label: option\n        }\n      ),\n      size: \"small\",\n      popupIcon: /* @__PURE__ */ React.createElement(ExpandMoreIcon, { \"data-testid\": \"selected-relations-expand\" }),\n      renderInput: (params) => /* @__PURE__ */ React.createElement(TextField, { ...params, variant: \"outlined\" })\n    }\n  ));\n};\n\nexport { SelectedRelationsFilter };\n//# sourceMappingURL=SelectedRelationsFilter.esm.js.map\n","import Box from '@material-ui/core/Box';\nimport FormControlLabel from '@material-ui/core/FormControlLabel';\nimport Switch from '@material-ui/core/Switch';\nimport { makeStyles } from '@material-ui/core/styles';\nimport React, { useCallback } from 'react';\n\nconst useStyles = makeStyles(\n  {\n    root: {\n      width: \"100%\",\n      maxWidth: 300\n    }\n  },\n  { name: \"PluginCatalogGraphSwitchFilter\" }\n);\nconst SwitchFilter = ({ label, value, onChange }) => {\n  const classes = useStyles();\n  const handleChange = useCallback(\n    (event) => {\n      onChange(event.target.checked);\n    },\n    [onChange]\n  );\n  return /* @__PURE__ */ React.createElement(Box, { pb: 1, pt: 1 }, /* @__PURE__ */ React.createElement(\n    FormControlLabel,\n    {\n      control: /* @__PURE__ */ React.createElement(\n        Switch,\n        {\n          checked: value,\n          onChange: handleChange,\n          name: label,\n          color: \"primary\"\n        }\n      ),\n      label,\n      className: classes.root\n    }\n  ));\n};\n\nexport { SwitchFilter };\n//# sourceMappingURL=SwitchFilter.esm.js.map\n","import { parseEntityRef, stringifyEntityRef } from '@backstage/catalog-model';\nimport qs from 'qs';\nimport { useMemo, useCallback, useState, useEffect } from 'react';\nimport { useLocation, useNavigate } from 'react-router-dom';\nimport '../EntityRelationsGraph/EntityRelationsGraph.esm.js';\nimport { Direction } from '../EntityRelationsGraph/types.esm.js';\n\nfunction useCatalogGraphPage({\n  initialState = {}\n}) {\n  const location = useLocation();\n  const navigate = useNavigate();\n  const query = useMemo(\n    () => qs.parse(location.search, { arrayLimit: 0, ignoreQueryPrefix: true }) || {},\n    [location.search]\n  );\n  const rootEntityNames = useMemo(\n    () => (Array.isArray(query.rootEntityRefs) ? query.rootEntityRefs : initialState?.rootEntityRefs ?? []).map((r) => parseEntityRef(r)),\n    [initialState?.rootEntityRefs, query.rootEntityRefs]\n  );\n  const setRootEntityNames = useCallback(\n    (value) => {\n      const areSame = rootEntityNames.length === value.length && rootEntityNames.every(\n        (r, i) => stringifyEntityRef(r) === stringifyEntityRef(value[i])\n      );\n      if (areSame) {\n        return;\n      }\n      const newSearch = qs.stringify(\n        {\n          ...query,\n          rootEntityRefs: value.map((r) => stringifyEntityRef(r))\n        },\n        { arrayFormat: \"brackets\", addQueryPrefix: true }\n      );\n      navigate(newSearch);\n    },\n    [rootEntityNames, navigate, query]\n  );\n  const [maxDepth, setMaxDepth] = useState(\n    () => typeof query.maxDepth === \"string\" ? parseMaxDepth(query.maxDepth) : initialState?.maxDepth ?? Number.POSITIVE_INFINITY\n  );\n  const [selectedRelations, setSelectedRelations] = useState(\n    () => Array.isArray(query.selectedRelations) ? query.selectedRelations : initialState?.selectedRelations\n  );\n  const [selectedKinds, setSelectedKinds] = useState(\n    () => (Array.isArray(query.selectedKinds) ? query.selectedKinds : initialState?.selectedKinds)?.map((k) => k.toLocaleLowerCase(\"en-US\"))\n  );\n  const [unidirectional, setUnidirectional] = useState(\n    () => typeof query.unidirectional === \"string\" ? query.unidirectional === \"true\" : initialState?.unidirectional ?? true\n  );\n  const [mergeRelations, setMergeRelations] = useState(\n    () => typeof query.mergeRelations === \"string\" ? query.mergeRelations === \"true\" : initialState?.mergeRelations ?? true\n  );\n  const [direction, setDirection] = useState(\n    () => typeof query.direction === \"string\" ? query.direction : initialState?.direction ?? Direction.LEFT_RIGHT\n  );\n  const [curve, setCurve] = useState(\n    () => typeof query.curve === \"string\" ? query.curve : initialState?.curve ?? \"curveMonotoneX\"\n  );\n  const [showFilters, setShowFilters] = useState(\n    () => typeof query.showFilters === \"string\" ? query.showFilters === \"true\" : initialState?.showFilters ?? true\n  );\n  const toggleShowFilters = useCallback(\n    () => setShowFilters((s) => !s),\n    [setShowFilters]\n  );\n  useEffect(() => {\n    const newParams = qs.stringify(\n      {\n        rootEntityRefs: rootEntityNames.map(stringifyEntityRef),\n        maxDepth: isFinite(maxDepth) ? maxDepth : \"\\u221E\",\n        selectedKinds,\n        selectedRelations,\n        unidirectional,\n        mergeRelations,\n        direction,\n        showFilters,\n        curve\n      },\n      { arrayFormat: \"brackets\", addQueryPrefix: true }\n    );\n    navigate(newParams, { replace: true });\n  }, [\n    maxDepth,\n    curve,\n    selectedKinds,\n    selectedRelations,\n    unidirectional,\n    mergeRelations,\n    direction,\n    showFilters,\n    rootEntityNames,\n    navigate\n  ]);\n  return {\n    rootEntityNames,\n    setRootEntityNames,\n    maxDepth,\n    setMaxDepth,\n    selectedRelations,\n    setSelectedRelations,\n    selectedKinds,\n    setSelectedKinds,\n    unidirectional,\n    setUnidirectional,\n    mergeRelations,\n    setMergeRelations,\n    direction,\n    setDirection,\n    curve,\n    setCurve,\n    showFilters,\n    toggleShowFilters\n  };\n}\nfunction parseMaxDepth(value) {\n  return value === \"\\u221E\" ? Number.POSITIVE_INFINITY : Number(value);\n}\n\nexport { useCatalogGraphPage };\n//# sourceMappingURL=useCatalogGraphPage.esm.js.map\n","import { parseEntityRef } from '@backstage/catalog-model';\nimport { Page, Header, Content, ContentHeader, SupportButton } from '@backstage/core-components';\nimport { useRouteRef, useAnalytics } from '@backstage/core-plugin-api';\nimport { entityRouteRef, humanizeEntityRef } from '@backstage/plugin-catalog-react';\nimport Grid from '@material-ui/core/Grid';\nimport Paper from '@material-ui/core/Paper';\nimport Typography from '@material-ui/core/Typography';\nimport { makeStyles } from '@material-ui/core/styles';\nimport FilterListIcon from '@material-ui/icons/FilterList';\nimport ZoomOutMap from '@material-ui/icons/ZoomOutMap';\nimport ToggleButton from '@material-ui/lab/ToggleButton';\nimport React, { useCallback } from 'react';\nimport { useNavigate } from 'react-router-dom';\nimport { EntityRelationsGraph } from '../EntityRelationsGraph/EntityRelationsGraph.esm.js';\nimport { ALL_RELATION_PAIRS } from '../EntityRelationsGraph/relations.esm.js';\nimport { CurveFilter } from './CurveFilter.esm.js';\nimport { DirectionFilter } from './DirectionFilter.esm.js';\nimport { MaxDepthFilter } from './MaxDepthFilter.esm.js';\nimport { SelectedKindsFilter } from './SelectedKindsFilter.esm.js';\nimport { SelectedRelationsFilter } from './SelectedRelationsFilter.esm.js';\nimport { SwitchFilter } from './SwitchFilter.esm.js';\nimport { useCatalogGraphPage } from './useCatalogGraphPage.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    content: {\n      minHeight: 0\n    },\n    container: {\n      height: \"100%\",\n      maxHeight: \"100%\",\n      minHeight: 0\n    },\n    fullHeight: {\n      maxHeight: \"100%\",\n      display: \"flex\",\n      minHeight: 0\n    },\n    graphWrapper: {\n      position: \"relative\",\n      flex: 1,\n      minHeight: 0,\n      display: \"flex\"\n    },\n    graph: {\n      flex: 1,\n      minHeight: 0\n    },\n    legend: {\n      position: \"absolute\",\n      bottom: 0,\n      right: 0,\n      padding: theme.spacing(1),\n      \"& .icon\": {\n        verticalAlign: \"bottom\"\n      }\n    },\n    filters: {\n      display: \"grid\",\n      gridGap: theme.spacing(1),\n      gridAutoRows: \"auto\",\n      [theme.breakpoints.up(\"lg\")]: {\n        display: \"block\"\n      },\n      [theme.breakpoints.only(\"md\")]: {\n        gridTemplateColumns: \"repeat(3, 1fr)\"\n      },\n      [theme.breakpoints.only(\"sm\")]: {\n        gridTemplateColumns: \"repeat(2, 1fr)\"\n      },\n      [theme.breakpoints.down(\"xs\")]: {\n        gridTemplateColumns: \"repeat(1, 1fr)\"\n      }\n    }\n  }),\n  { name: \"PluginCatalogGraphCatalogGraphPage\" }\n);\nconst CatalogGraphPage = (props) => {\n  const {\n    relationPairs = ALL_RELATION_PAIRS,\n    initialState,\n    entityFilter\n  } = props;\n  const navigate = useNavigate();\n  const classes = useStyles();\n  const catalogEntityRoute = useRouteRef(entityRouteRef);\n  const {\n    maxDepth,\n    setMaxDepth,\n    selectedKinds,\n    setSelectedKinds,\n    selectedRelations,\n    setSelectedRelations,\n    unidirectional,\n    setUnidirectional,\n    mergeRelations,\n    setMergeRelations,\n    direction,\n    setDirection,\n    curve,\n    setCurve,\n    rootEntityNames,\n    setRootEntityNames,\n    showFilters,\n    toggleShowFilters\n  } = useCatalogGraphPage({ initialState });\n  const analytics = useAnalytics();\n  const onNodeClick = useCallback(\n    (node, event) => {\n      const nodeEntityName = parseEntityRef(node.id);\n      if (event.shiftKey) {\n        const path = catalogEntityRoute({\n          kind: nodeEntityName.kind.toLocaleLowerCase(\"en-US\"),\n          namespace: nodeEntityName.namespace.toLocaleLowerCase(\"en-US\"),\n          name: nodeEntityName.name\n        });\n        analytics.captureEvent(\n          \"click\",\n          node.entity.metadata.title ?? humanizeEntityRef(nodeEntityName),\n          { attributes: { to: path } }\n        );\n        navigate(path);\n      } else {\n        analytics.captureEvent(\n          \"click\",\n          node.entity.metadata.title ?? humanizeEntityRef(nodeEntityName)\n        );\n        setRootEntityNames([nodeEntityName]);\n      }\n    },\n    [catalogEntityRoute, navigate, setRootEntityNames, analytics]\n  );\n  return /* @__PURE__ */ React.createElement(Page, { themeId: \"home\" }, /* @__PURE__ */ React.createElement(\n    Header,\n    {\n      title: \"Catalog Graph\",\n      subtitle: rootEntityNames.map((e) => humanizeEntityRef(e)).join(\", \")\n    }\n  ), /* @__PURE__ */ React.createElement(Content, { stretch: true, className: classes.content }, /* @__PURE__ */ React.createElement(\n    ContentHeader,\n    {\n      titleComponent: /* @__PURE__ */ React.createElement(\n        ToggleButton,\n        {\n          value: \"show filters\",\n          selected: showFilters,\n          onChange: () => toggleShowFilters()\n        },\n        /* @__PURE__ */ React.createElement(FilterListIcon, null),\n        \" Filters\"\n      )\n    },\n    /* @__PURE__ */ React.createElement(SupportButton, null, \"Start tracking your component in by adding it to the software catalog.\")\n  ), /* @__PURE__ */ React.createElement(Grid, { container: true, alignItems: \"stretch\", className: classes.container }, showFilters && /* @__PURE__ */ React.createElement(Grid, { item: true, xs: 12, lg: 2, className: classes.filters }, /* @__PURE__ */ React.createElement(MaxDepthFilter, { value: maxDepth, onChange: setMaxDepth }), /* @__PURE__ */ React.createElement(\n    SelectedKindsFilter,\n    {\n      value: selectedKinds,\n      onChange: setSelectedKinds\n    }\n  ), /* @__PURE__ */ React.createElement(\n    SelectedRelationsFilter,\n    {\n      value: selectedRelations,\n      onChange: setSelectedRelations,\n      relationPairs\n    }\n  ), /* @__PURE__ */ React.createElement(DirectionFilter, { value: direction, onChange: setDirection }), /* @__PURE__ */ React.createElement(CurveFilter, { value: curve, onChange: setCurve }), /* @__PURE__ */ React.createElement(\n    SwitchFilter,\n    {\n      value: unidirectional,\n      onChange: setUnidirectional,\n      label: \"Simplified\"\n    }\n  ), /* @__PURE__ */ React.createElement(\n    SwitchFilter,\n    {\n      value: mergeRelations,\n      onChange: setMergeRelations,\n      label: \"Merge Relations\"\n    }\n  )), /* @__PURE__ */ React.createElement(Grid, { item: true, xs: true, className: classes.fullHeight }, /* @__PURE__ */ React.createElement(Paper, { className: classes.graphWrapper }, /* @__PURE__ */ React.createElement(\n    Typography,\n    {\n      variant: \"caption\",\n      color: \"textSecondary\",\n      display: \"block\",\n      className: classes.legend\n    },\n    /* @__PURE__ */ React.createElement(ZoomOutMap, { className: \"icon\" }),\n    \" Use pinch & zoom to move around the diagram. Click to change active node, shift click to navigate to entity.\"\n  ), /* @__PURE__ */ React.createElement(\n    EntityRelationsGraph,\n    {\n      ...props,\n      rootEntityNames,\n      maxDepth,\n      kinds: selectedKinds && selectedKinds.length > 0 ? selectedKinds : void 0,\n      relations: selectedRelations && selectedRelations.length > 0 ? selectedRelations : void 0,\n      mergeRelations,\n      unidirectional,\n      onNodeClick,\n      direction,\n      relationPairs,\n      entityFilter,\n      className: classes.graph,\n      zoom: \"enabled\",\n      curve\n    }\n  ))))));\n};\n\nexport { CatalogGraphPage };\n//# sourceMappingURL=CatalogGraphPage.esm.js.map\n","import makeStyles from '@material-ui/core/styles/makeStyles';\nimport React from 'react';\nimport classNames from 'classnames';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    text: {\n      fill: theme.palette.textContrast\n    },\n    secondary: {\n      fill: theme.palette.textSubtle\n    }\n  }),\n  { name: \"PluginCatalogGraphCustomLabel\" }\n);\nfunction DefaultRenderLabel({\n  edge: { relations }\n}) {\n  const classes = useStyles();\n  return /* @__PURE__ */ React.createElement(\"text\", { className: classes.text, textAnchor: \"middle\" }, relations.map((r, i) => /* @__PURE__ */ React.createElement(\"tspan\", { key: r, className: classNames(i % 2 !== 0 && classes.secondary) }, i > 0 && /* @__PURE__ */ React.createElement(\"tspan\", null, \" / \"), r)));\n}\n\nexport { DefaultRenderLabel };\n//# sourceMappingURL=DefaultRenderLabel.esm.js.map\n","import React from 'react';\nimport SvgIcon from '@material-ui/core/SvgIcon';\n\nfunction EntityIcon({\n  icon,\n  ...props\n}) {\n  const Icon = icon ?? SvgIcon;\n  return /* @__PURE__ */ React.createElement(Icon, { ...props });\n}\n\nexport { EntityIcon };\n//# sourceMappingURL=EntityIcon.esm.js.map\n","import { useEntityPresentation } from '@backstage/plugin-catalog-react';\nimport { makeStyles } from '@material-ui/core/styles';\nimport classNames from 'classnames';\nimport React, { useState, useRef, useLayoutEffect } from 'react';\nimport { EntityIcon } from './EntityIcon.esm.js';\nimport { DEFAULT_NAMESPACE } from '@backstage/catalog-model';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    node: {\n      fill: theme.palette.grey[300],\n      stroke: theme.palette.grey[300],\n      \"&.primary\": {\n        fill: theme.palette.primary.light,\n        stroke: theme.palette.primary.light\n      },\n      \"&.secondary\": {\n        fill: theme.palette.secondary.light,\n        stroke: theme.palette.secondary.light\n      }\n    },\n    text: {\n      fill: theme.palette.getContrastText(theme.palette.grey[300]),\n      \"&.primary\": {\n        fill: theme.palette.primary.contrastText\n      },\n      \"&.secondary\": {\n        fill: theme.palette.secondary.contrastText\n      },\n      \"&.focused\": {\n        fontWeight: \"bold\"\n      }\n    },\n    clickable: {\n      cursor: \"pointer\"\n    }\n  }),\n  { name: \"PluginCatalogGraphCustomNode\" }\n);\nfunction DefaultRenderNode({\n  node: { id, entity, color = \"default\", focused, onClick }\n}) {\n  const classes = useStyles();\n  const [width, setWidth] = useState(0);\n  const [height, setHeight] = useState(0);\n  const idRef = useRef(null);\n  const entityRefPresentationSnapshot = useEntityPresentation(entity, {\n    defaultNamespace: DEFAULT_NAMESPACE\n  });\n  useLayoutEffect(() => {\n    if (idRef.current) {\n      let { height: renderedHeight, width: renderedWidth } = idRef.current.getBBox();\n      renderedHeight = Math.round(renderedHeight);\n      renderedWidth = Math.round(renderedWidth);\n      if (renderedHeight !== height || renderedWidth !== width) {\n        setWidth(renderedWidth);\n        setHeight(renderedHeight);\n      }\n    }\n  }, [width, height]);\n  const hasKindIcon = !!entityRefPresentationSnapshot.Icon;\n  const padding = 10;\n  const iconSize = height;\n  const paddedIconWidth = hasKindIcon ? iconSize + padding : 0;\n  const paddedWidth = paddedIconWidth + width + padding * 2;\n  const paddedHeight = height + padding * 2;\n  const displayTitle = entityRefPresentationSnapshot.primaryTitle ?? id;\n  return /* @__PURE__ */ React.createElement(\"g\", { onClick, className: classNames(onClick && classes.clickable) }, /* @__PURE__ */ React.createElement(\n    \"rect\",\n    {\n      className: classNames(\n        classes.node,\n        color === \"primary\" && \"primary\",\n        color === \"secondary\" && \"secondary\"\n      ),\n      width: paddedWidth,\n      height: paddedHeight,\n      rx: 10\n    }\n  ), hasKindIcon && /* @__PURE__ */ React.createElement(\n    EntityIcon,\n    {\n      icon: entityRefPresentationSnapshot.Icon,\n      y: padding,\n      x: padding,\n      width: iconSize,\n      height: iconSize,\n      className: classNames(\n        classes.text,\n        focused && \"focused\",\n        color === \"primary\" && \"primary\",\n        color === \"secondary\" && \"secondary\"\n      )\n    }\n  ), /* @__PURE__ */ React.createElement(\n    \"text\",\n    {\n      ref: idRef,\n      className: classNames(\n        classes.text,\n        focused && \"focused\",\n        color === \"primary\" && \"primary\",\n        color === \"secondary\" && \"secondary\"\n      ),\n      y: paddedHeight / 2,\n      x: paddedIconWidth + (width + padding * 2) / 2,\n      textAnchor: \"middle\",\n      alignmentBaseline: \"middle\"\n    },\n    displayTitle\n  ), /* @__PURE__ */ React.createElement(\"title\", null, entityRefPresentationSnapshot.entityRef));\n}\n\nexport { DefaultRenderNode };\n//# sourceMappingURL=DefaultRenderNode.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { useApi } from '@backstage/core-plugin-api';\nimport { catalogApiRef } from '@backstage/plugin-catalog-react';\nimport { useRef, useState, useCallback } from 'react';\nimport useAsyncFn from 'react-use/esm/useAsyncFn';\n\nfunction useEntityStore() {\n  const catalogClient = useApi(catalogApiRef);\n  const state = useRef({\n    requestedEntities: /* @__PURE__ */ new Set(),\n    outstandingEntities: /* @__PURE__ */ new Map(),\n    cachedEntities: /* @__PURE__ */ new Map()\n  });\n  const [entities, setEntities] = useState({});\n  const updateEntities = useCallback(() => {\n    const { cachedEntities, requestedEntities } = state.current;\n    const filteredEntities = {};\n    requestedEntities.forEach((entityRef) => {\n      const entity = cachedEntities.get(entityRef);\n      if (entity) {\n        filteredEntities[entityRef] = entity;\n      }\n    });\n    setEntities(filteredEntities);\n  }, [state, setEntities]);\n  const [asyncState, fetch] = useAsyncFn(async () => {\n    const { requestedEntities, cachedEntities } = state.current;\n    const entityRefs = Array.from(requestedEntities).filter(\n      (entityRef) => !cachedEntities.has(entityRef)\n    );\n    if (entityRefs.length === 0) {\n      updateEntities();\n      return;\n    }\n    const { items } = await catalogClient.getEntitiesByRefs({ entityRefs });\n    items.forEach((ent) => {\n      if (ent) {\n        const entityRef = stringifyEntityRef(ent);\n        cachedEntities.set(entityRef, ent);\n      }\n    });\n    updateEntities();\n  }, [state, updateEntities]);\n  const { loading, error } = asyncState;\n  const requestEntities = useCallback(\n    (entityRefs) => {\n      const n = new Set(entityRefs);\n      const { requestedEntities } = state.current;\n      if (n.size !== requestedEntities.size || Array.from(n).some((e) => !requestedEntities.has(e))) {\n        state.current.requestedEntities = n;\n        fetch();\n        updateEntities();\n      }\n    },\n    [state, fetch, updateEntities]\n  );\n  return {\n    entities,\n    loading,\n    error,\n    requestEntities\n  };\n}\n\nexport { useEntityStore };\n//# sourceMappingURL=useEntityStore.esm.js.map\n","import { useEffect, useMemo } from 'react';\nimport { useEntityStore } from './useEntityStore.esm.js';\nimport { pickBy } from 'lodash';\n\nfunction useEntityRelationGraph({\n  rootEntityRefs,\n  filter: {\n    maxDepth = Number.POSITIVE_INFINITY,\n    relations,\n    kinds,\n    entityFilter\n  } = {}\n}) {\n  const { entities, loading, error, requestEntities } = useEntityStore();\n  useEffect(() => {\n    const expectedEntities = /* @__PURE__ */ new Set([...rootEntityRefs]);\n    const processedEntityRefs = /* @__PURE__ */ new Set();\n    let nextDepthRefQueue = [...rootEntityRefs];\n    let depth = 0;\n    while (nextDepthRefQueue.length > 0 && (!isFinite(maxDepth) || depth < maxDepth)) {\n      const entityRefQueue = nextDepthRefQueue;\n      nextDepthRefQueue = [];\n      while (entityRefQueue.length > 0) {\n        const entityRef = entityRefQueue.shift();\n        const entity = entities[entityRef];\n        processedEntityRefs.add(entityRef);\n        if (entity && entity.relations) {\n          if (entityFilter && !entityFilter(entity)) {\n            continue;\n          }\n          for (const rel of entity.relations) {\n            if ((!relations || relations.includes(rel.type)) && (!kinds || kinds.some(\n              (kind) => rel.targetRef.startsWith(\n                `${kind.toLocaleLowerCase(\"en-US\")}:`\n              )\n            ))) {\n              if (!processedEntityRefs.has(rel.targetRef)) {\n                nextDepthRefQueue.push(rel.targetRef);\n                expectedEntities.add(rel.targetRef);\n              }\n            }\n          }\n        }\n      }\n      ++depth;\n    }\n    requestEntities([...expectedEntities]);\n  }, [\n    entities,\n    rootEntityRefs,\n    maxDepth,\n    relations,\n    kinds,\n    entityFilter,\n    requestEntities\n  ]);\n  const filteredEntities = useMemo(\n    () => entityFilter ? pickBy(entities, (value, _key) => entityFilter(value)) : entities,\n    [entities, entityFilter]\n  );\n  return {\n    entities: filteredEntities,\n    loading,\n    error\n  };\n}\n\nexport { useEntityRelationGraph };\n//# sourceMappingURL=useEntityRelationGraph.esm.js.map\n","import { useState } from 'react';\nimport useDebounce from 'react-use/esm/useDebounce';\nimport { ALL_RELATION_PAIRS } from './relations.esm.js';\nimport { useEntityRelationGraph } from './useEntityRelationGraph.esm.js';\nimport { DEFAULT_NAMESPACE } from '@backstage/catalog-model';\n\nfunction useEntityRelationNodesAndEdges({\n  rootEntityRefs,\n  maxDepth = Number.POSITIVE_INFINITY,\n  unidirectional = true,\n  mergeRelations = true,\n  kinds,\n  relations,\n  entityFilter,\n  onNodeClick,\n  relationPairs = ALL_RELATION_PAIRS\n}) {\n  const [nodesAndEdges, setNodesAndEdges] = useState({});\n  const { entities, loading, error } = useEntityRelationGraph({\n    rootEntityRefs,\n    filter: {\n      maxDepth,\n      kinds,\n      relations,\n      entityFilter\n    }\n  });\n  useDebounce(\n    () => {\n      if (!entities || Object.keys(entities).length === 0) {\n        setNodesAndEdges({});\n        return;\n      }\n      const nodes = Object.entries(entities).map(([entityRef, entity]) => {\n        const focused = rootEntityRefs.includes(entityRef);\n        const node = {\n          id: entityRef,\n          entity,\n          focused,\n          color: focused ? \"secondary\" : \"primary\",\n          // @deprecated\n          kind: entity.kind,\n          name: entity.metadata.name,\n          namespace: entity.metadata.namespace || DEFAULT_NAMESPACE,\n          title: entity.metadata.title,\n          spec: entity.spec\n        };\n        if (onNodeClick) {\n          node.onClick = (event) => onNodeClick(node, event);\n        }\n        return node;\n      });\n      const edges = [];\n      const visitedNodes = /* @__PURE__ */ new Set();\n      const nodeQueue = [...rootEntityRefs];\n      while (nodeQueue.length > 0) {\n        const entityRef = nodeQueue.pop();\n        const entity = entities[entityRef];\n        visitedNodes.add(entityRef);\n        if (entity) {\n          entity?.relations?.forEach((rel) => {\n            if (!entities[rel.targetRef]) {\n              return;\n            }\n            if (relations && !relations.includes(rel.type)) {\n              return;\n            }\n            if (kinds && !kinds.some(\n              (kind) => rel.targetRef.startsWith(`${kind.toLocaleLowerCase(\"en-US\")}:`)\n            )) {\n              return;\n            }\n            if (!unidirectional || !visitedNodes.has(rel.targetRef)) {\n              if (mergeRelations) {\n                const pair = relationPairs.find(\n                  ([l, r]) => l === rel.type || r === rel.type\n                ) ?? [rel.type];\n                const [left] = pair;\n                edges.push({\n                  from: left === rel.type ? entityRef : rel.targetRef,\n                  to: left === rel.type ? rel.targetRef : entityRef,\n                  relations: pair,\n                  label: \"visible\"\n                });\n              } else {\n                edges.push({\n                  from: entityRef,\n                  to: rel.targetRef,\n                  relations: [rel.type],\n                  label: \"visible\"\n                });\n              }\n            }\n            if (!visitedNodes.has(rel.targetRef)) {\n              nodeQueue.push(rel.targetRef);\n              visitedNodes.add(rel.targetRef);\n            }\n            if (unidirectional) {\n              const findIndex = edges.findIndex(\n                (edge) => entityRef === edge.from && rel.targetRef === edge.to && !edge.relations.includes(rel.type)\n              );\n              if (findIndex >= 0) {\n                if (mergeRelations) {\n                  const pair = relationPairs.find(\n                    ([l, r]) => l === rel.type || r === rel.type\n                  ) ?? [rel.type];\n                  edges[findIndex].relations = [\n                    ...edges[findIndex].relations,\n                    ...pair\n                  ];\n                } else {\n                  edges[findIndex].relations = [\n                    ...edges[findIndex].relations,\n                    rel.type\n                  ];\n                }\n              }\n            }\n          });\n        }\n      }\n      const finalEdges = edges.reduce((previousEdges, currentEdge) => {\n        const indexFound = previousEdges.findIndex(\n          (previousEdge) => previousEdge.from === currentEdge.from && previousEdge.to === currentEdge.to\n        );\n        if (indexFound >= 0) {\n          previousEdges[indexFound] = {\n            ...previousEdges[indexFound],\n            relations: Array.from(\n              /* @__PURE__ */ new Set([\n                ...previousEdges[indexFound].relations,\n                ...currentEdge.relations\n              ])\n            )\n          };\n          return previousEdges;\n        }\n        return [...previousEdges, currentEdge];\n      }, []);\n      setNodesAndEdges({ nodes, edges: finalEdges });\n    },\n    100,\n    [\n      entities,\n      rootEntityRefs,\n      kinds,\n      relations,\n      unidirectional,\n      mergeRelations,\n      onNodeClick,\n      relationPairs\n    ]\n  );\n  return {\n    loading,\n    error,\n    ...nodesAndEdges\n  };\n}\n\nexport { useEntityRelationNodesAndEdges };\n//# sourceMappingURL=useEntityRelationNodesAndEdges.esm.js.map\n","import { stringifyEntityRef } from '@backstage/catalog-model';\nimport { DependencyGraph, DependencyGraphTypes } from '@backstage/core-components';\nimport { useApi, errorApiRef } from '@backstage/core-plugin-api';\nimport CircularProgress from '@material-ui/core/CircularProgress';\nimport { makeStyles, useTheme } from '@material-ui/core/styles';\nimport classNames from 'classnames';\nimport React, { useMemo, useEffect } from 'react';\nimport { DefaultRenderLabel } from './DefaultRenderLabel.esm.js';\nimport { DefaultRenderNode } from './DefaultRenderNode.esm.js';\nimport { ALL_RELATION_PAIRS } from './relations.esm.js';\nimport { Direction } from './types.esm.js';\nimport { useEntityRelationNodesAndEdges } from './useEntityRelationNodesAndEdges.esm.js';\n\nconst useStyles = makeStyles(\n  (theme) => ({\n    progress: {\n      position: \"absolute\",\n      left: \"50%\",\n      top: \"50%\",\n      marginLeft: \"-20px\",\n      marginTop: \"-20px\"\n    },\n    container: {\n      position: \"relative\",\n      width: \"100%\",\n      display: \"flex\",\n      flexDirection: \"column\"\n    },\n    graph: {\n      width: \"100%\",\n      flex: 1,\n      // Right now there is no good way to style edges between nodes, we have to\n      // fall back to these hacks:\n      \"& path[marker-end]\": {\n        transition: \"filter 0.1s ease-in-out\"\n      },\n      \"& path[marker-end]:hover\": {\n        filter: `drop-shadow(2px 2px 4px ${theme.palette.primary.dark});`\n      },\n      \"& g[data-testid=label]\": {\n        transition: \"transform 0s\"\n      }\n    }\n  }),\n  { name: \"PluginCatalogGraphEntityRelationsGraph\" }\n);\nconst EntityRelationsGraph = (props) => {\n  const {\n    rootEntityNames,\n    maxDepth = 2,\n    unidirectional = true,\n    mergeRelations = true,\n    kinds,\n    relations,\n    entityFilter,\n    direction = Direction.LEFT_RIGHT,\n    onNodeClick,\n    relationPairs = ALL_RELATION_PAIRS,\n    className,\n    zoom = \"enabled\",\n    renderNode,\n    renderLabel,\n    curve,\n    showArrowHeads\n  } = props;\n  const theme = useTheme();\n  const classes = useStyles();\n  const rootEntityRefs = useMemo(\n    () => (Array.isArray(rootEntityNames) ? rootEntityNames : [rootEntityNames]).map((e) => stringifyEntityRef(e)),\n    [rootEntityNames]\n  );\n  const errorApi = useApi(errorApiRef);\n  const { loading, error, nodes, edges } = useEntityRelationNodesAndEdges({\n    rootEntityRefs,\n    maxDepth,\n    unidirectional,\n    mergeRelations,\n    kinds,\n    relations,\n    entityFilter,\n    onNodeClick,\n    relationPairs\n  });\n  useEffect(() => {\n    if (error) {\n      errorApi.post(error);\n    }\n  }, [errorApi, error]);\n  return /* @__PURE__ */ React.createElement(\"div\", { className: classNames(classes.container, className) }, loading && /* @__PURE__ */ React.createElement(CircularProgress, { className: classes.progress }), nodes && edges && /* @__PURE__ */ React.createElement(\n    DependencyGraph,\n    {\n      nodes,\n      edges,\n      renderNode: renderNode || DefaultRenderNode,\n      renderLabel: renderLabel || DefaultRenderLabel,\n      direction,\n      className: classes.graph,\n      paddingX: theme.spacing(4),\n      paddingY: theme.spacing(4),\n      labelPosition: DependencyGraphTypes.LabelPosition.RIGHT,\n      labelOffset: theme.spacing(1),\n      zoom,\n      curve,\n      showArrowHeads\n    }\n  ));\n};\n\nexport { EntityRelationsGraph };\n//# sourceMappingURL=EntityRelationsGraph.esm.js.map\n","import { RELATION_OWNER_OF, RELATION_OWNED_BY, RELATION_CONSUMES_API, RELATION_API_CONSUMED_BY, RELATION_API_PROVIDED_BY, RELATION_PROVIDES_API, RELATION_HAS_PART, RELATION_PART_OF, RELATION_PARENT_OF, RELATION_CHILD_OF, RELATION_HAS_MEMBER, RELATION_MEMBER_OF, RELATION_DEPENDS_ON, RELATION_DEPENDENCY_OF } from '@backstage/catalog-model';\n\nconst ALL_RELATION_PAIRS = [\n  [RELATION_OWNER_OF, RELATION_OWNED_BY],\n  [RELATION_CONSUMES_API, RELATION_API_CONSUMED_BY],\n  [RELATION_API_PROVIDED_BY, RELATION_PROVIDES_API],\n  [RELATION_HAS_PART, RELATION_PART_OF],\n  [RELATION_PARENT_OF, RELATION_CHILD_OF],\n  [RELATION_HAS_MEMBER, RELATION_MEMBER_OF],\n  [RELATION_DEPENDS_ON, RELATION_DEPENDENCY_OF]\n];\n\nexport { ALL_RELATION_PAIRS };\n//# sourceMappingURL=relations.esm.js.map\n","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z\"\n}), 'CheckBox');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z\"\n}), 'CheckBoxOutlineBlank');\n\nexports.default = _default;","\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\");\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\n\nvar React = _interopRequireWildcard(require(\"react\"));\n\nvar _createSvgIcon = _interopRequireDefault(require(\"./utils/createSvgIcon\"));\n\nvar _default = (0, _createSvgIcon.default)( /*#__PURE__*/React.createElement(\"path\", {\n  d: \"M15 3l2.3 2.3-2.89 2.87 1.42 1.42L18.7 6.7 21 9V3h-6zM3 9l2.3-2.3 2.87 2.89 1.42-1.42L6.7 5.3 9 3H3v6zm6 12l-2.3-2.3 2.89-2.87-1.42-1.42L5.3 17.3 3 15v6h6zm12-6l-2.3 2.3-2.87-2.89-1.42 1.42 2.89 2.87L15 21h6v-6z\"\n}), 'ZoomOutMap');\n\nexports.default = _default;","import _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _extends from \"@babel/runtime/helpers/esm/extends\";\n// @inheritedComponent ButtonBase\nimport * as React from 'react';\nimport PropTypes from 'prop-types';\nimport clsx from 'clsx';\nimport { alpha, withStyles } from '@material-ui/core/styles';\nimport ButtonBase from '@material-ui/core/ButtonBase';\nimport { capitalize } from '@material-ui/core/utils';\nexport var styles = function styles(theme) {\n  return {\n    /* Styles applied to the root element. */\n    root: _extends({}, theme.typography.button, {\n      boxSizing: 'border-box',\n      borderRadius: theme.shape.borderRadius,\n      padding: 11,\n      border: \"1px solid \".concat(alpha(theme.palette.action.active, 0.12)),\n      color: alpha(theme.palette.action.active, 0.38),\n      '&$selected': {\n        color: theme.palette.action.active,\n        backgroundColor: alpha(theme.palette.action.active, 0.12),\n        '&:hover': {\n          backgroundColor: alpha(theme.palette.action.active, 0.15)\n        },\n        '& + &': {\n          borderLeft: 0,\n          marginLeft: 0\n        }\n      },\n      '&$disabled': {\n        color: alpha(theme.palette.action.disabled, 0.12)\n      },\n      '&:hover': {\n        textDecoration: 'none',\n        // Reset on mouse devices\n        backgroundColor: alpha(theme.palette.text.primary, 0.05),\n        '@media (hover: none)': {\n          backgroundColor: 'transparent'\n        },\n        '&$disabled': {\n          backgroundColor: 'transparent'\n        }\n      }\n    }),\n\n    /* Pseudo-class applied to the root element if `disabled={true}`. */\n    disabled: {},\n\n    /* Pseudo-class applied to the root element if `selected={true}`. */\n    selected: {},\n\n    /* Styles applied to the `label` wrapper element. */\n    label: {\n      width: '100%',\n      // Ensure the correct width for iOS Safari\n      display: 'inherit',\n      alignItems: 'inherit',\n      justifyContent: 'inherit'\n    },\n\n    /* Styles applied to the root element if `size=\"small\"`. */\n    sizeSmall: {\n      padding: 7,\n      fontSize: theme.typography.pxToRem(13)\n    },\n\n    /* Styles applied to the root element if `size=\"large\"`. */\n    sizeLarge: {\n      padding: 15,\n      fontSize: theme.typography.pxToRem(15)\n    }\n  };\n};\nvar ToggleButton = /*#__PURE__*/React.forwardRef(function ToggleButton(props, ref) {\n  var children = props.children,\n      classes = props.classes,\n      className = props.className,\n      _props$disabled = props.disabled,\n      disabled = _props$disabled === void 0 ? false : _props$disabled,\n      _props$disableFocusRi = props.disableFocusRipple,\n      disableFocusRipple = _props$disableFocusRi === void 0 ? false : _props$disableFocusRi,\n      onChange = props.onChange,\n      onClick = props.onClick,\n      selected = props.selected,\n      _props$size = props.size,\n      size = _props$size === void 0 ? 'medium' : _props$size,\n      value = props.value,\n      other = _objectWithoutProperties(props, [\"children\", \"classes\", \"className\", \"disabled\", \"disableFocusRipple\", \"onChange\", \"onClick\", \"selected\", \"size\", \"value\"]);\n\n  var handleChange = function handleChange(event) {\n    if (onClick) {\n      onClick(event, value);\n\n      if (event.isDefaultPrevented()) {\n        return;\n      }\n    }\n\n    if (onChange) {\n      onChange(event, value);\n    }\n  };\n\n  return /*#__PURE__*/React.createElement(ButtonBase, _extends({\n    className: clsx(classes.root, className, disabled && classes.disabled, selected && classes.selected, size !== 'medium' && classes[\"size\".concat(capitalize(size))]),\n    disabled: disabled,\n    focusRipple: !disableFocusRipple,\n    ref: ref,\n    onClick: handleChange,\n    onChange: onChange,\n    value: value,\n    \"aria-pressed\": selected\n  }, other), /*#__PURE__*/React.createElement(\"span\", {\n    className: classes.label\n  }, children));\n});\nprocess.env.NODE_ENV !== \"production\" ? ToggleButton.propTypes = {\n  /**\n   * The content of the button.\n   */\n  children: PropTypes.node.isRequired,\n\n  /**\n   * Override or extend the styles applied to the component.\n   * See [CSS API](#css) below for more details.\n   */\n  classes: PropTypes.object.isRequired,\n\n  /**\n   * @ignore\n   */\n  className: PropTypes.string,\n\n  /**\n   * If `true`, the button will be disabled.\n   */\n  disabled: PropTypes.bool,\n\n  /**\n   * If `true`, the  keyboard focus ripple will be disabled.\n   */\n  disableFocusRipple: PropTypes.bool,\n\n  /**\n   * If `true`, the ripple effect will be disabled.\n   */\n  disableRipple: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  onChange: PropTypes.func,\n\n  /**\n   * @ignore\n   */\n  onClick: PropTypes.func,\n\n  /**\n   * If `true`, the button will be rendered in an active state.\n   */\n  selected: PropTypes.bool,\n\n  /**\n   * @ignore\n   */\n  size: PropTypes.oneOf(['small', 'medium', 'large']),\n\n  /**\n   * The value to associate with the button when selected in a\n   * ToggleButtonGroup.\n   */\n  value: PropTypes.any.isRequired\n} : void 0;\nexport default withStyles(styles, {\n  name: 'MuiToggleButton'\n})(ToggleButton);"],"names":["useStyles","SupportIcon","icon","app","Icon","SupportLink","link","SupportListItem","item","prev","idx","SupportButton","props","t","title","items","children","configItems","popoverOpen","setPopoverOpen","anchorEl","setAnchorEl","classes","isSmallScreen","theme","onClickHandler","event","popoverCloseHandler","child","i","CURVE_DISPLAY_NAMES","curves","CurveFilter","value","onChange","handleChange","v","Box","DIRECTION_DISPLAY_NAMES","DirectionFilter","makeStyles","MaxDepthFilter","onChangeRef","currentValue","setCurrentValue","newValueNumeric","newValue","reset","FormControl","Typography","OutlinedInput","InputAdornment","IconButton","Clear","SelectedKindsFilter","alertApi","catalogApi","error","kinds","useAsync","response","f","normalizedKinds","k","_","r","handleEmpty","Autocomplete","option","selected","FormControlLabel","Checkbox","CheckBoxOutlineBlank","CheckBox","ExpandMore","params","TextField","SelectedRelationsFilter","relationPairs","relations","SwitchFilter","label","Switch","useCatalogGraphPage","initialState","location","navigate","query","rootEntityNames","setRootEntityNames","newSearch","maxDepth","setMaxDepth","parseMaxDepth","selectedRelations","setSelectedRelations","selectedKinds","setSelectedKinds","unidirectional","setUnidirectional","mergeRelations","setMergeRelations","direction","setDirection","curve","setCurve","showFilters","setShowFilters","toggleShowFilters","s","newParams","CatalogGraphPage","entityFilter","catalogEntityRoute","analytics","onNodeClick","node","nodeEntityName","path","e","ToggleButton","FilterList","Grid","Paper","ZoomOutMap","DefaultRenderLabel","EntityIcon","SvgIcon","DefaultRenderNode","id","entity","color","focused","onClick","width","setWidth","height","setHeight","idRef","entityRefPresentationSnapshot","renderedHeight","renderedWidth","hasKindIcon","padding","iconSize","paddedIconWidth","paddedWidth","paddedHeight","displayTitle","useEntityStore","catalogClient","state","entities","setEntities","updateEntities","cachedEntities","requestedEntities","filteredEntities","entityRef","asyncState","fetch","useAsyncFn","entityRefs","ent","loading","requestEntities","n","useEntityRelationGraph","rootEntityRefs","expectedEntities","processedEntityRefs","nextDepthRefQueue","depth","entityRefQueue","rel","kind","_key","useEntityRelationNodesAndEdges","nodesAndEdges","setNodesAndEdges","useDebounce","nodes","edges","visitedNodes","nodeQueue","pair","l","left","findIndex","edge","finalEdges","previousEdges","currentEdge","indexFound","previousEdge","EntityRelationsGraph","className","zoom","renderNode","renderLabel","showArrowHeads","useTheme","errorApi","CircularProgress","ALL_RELATION_PAIRS","_interopRequireDefault","_interopRequireWildcard","exports","React","_createSvgIcon","_default","styles","ref","_props$disabled","disabled","_props$disableFocusRi","disableFocusRipple","_props$size","size","other"],"sourceRoot":""}